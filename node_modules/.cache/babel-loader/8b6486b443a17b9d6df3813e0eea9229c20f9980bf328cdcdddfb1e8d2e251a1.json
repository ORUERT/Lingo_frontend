{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from '../../../_util/raf';\nimport { onMounted, reactive, ref } from 'vue';\nexport default function useFrameSetState(initial) {\n  var frame = ref(null);\n  var state = reactive(_extends({}, initial));\n  var queue = ref([]);\n  var setFrameState = function setFrameState(newState) {\n    if (frame.value === null) {\n      queue.value = [];\n      frame.value = raf(function () {\n        var memoState;\n        queue.value.forEach(function (queueState) {\n          memoState = _extends(_extends({}, memoState), queueState);\n        });\n        _extends(state, memoState);\n        frame.value = null;\n      });\n    }\n    queue.value.push(newState);\n  };\n  onMounted(function () {\n    frame.value && raf.cancel(frame.value);\n  });\n  return [state, setFrameState];\n}","map":{"version":3,"names":["_extends","raf","onMounted","reactive","ref","useFrameSetState","initial","frame","state","queue","setFrameState","newState","value","memoState","forEach","queueState","push","cancel"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-image/src/hooks/useFrameSetState.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from '../../../_util/raf';\nimport { onMounted, reactive, ref } from 'vue';\nexport default function useFrameSetState(initial) {\n  const frame = ref(null);\n  const state = reactive(_extends({}, initial));\n  const queue = ref([]);\n  const setFrameState = newState => {\n    if (frame.value === null) {\n      queue.value = [];\n      frame.value = raf(() => {\n        let memoState;\n        queue.value.forEach(queueState => {\n          memoState = _extends(_extends({}, memoState), queueState);\n        });\n        _extends(state, memoState);\n        frame.value = null;\n      });\n    }\n    queue.value.push(newState);\n  };\n  onMounted(() => {\n    frame.value && raf.cancel(frame.value);\n  });\n  return [state, setFrameState];\n}"],"mappings":";;;;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,GAAG,MAAM,oBAAoB;AACpC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AAC9C,eAAe,SAASC,gBAAgBA,CAACC,OAAO,EAAE;EAChD,IAAMC,KAAK,GAAGH,GAAG,CAAC,IAAI,CAAC;EACvB,IAAMI,KAAK,GAAGL,QAAQ,CAACH,QAAQ,CAAC,CAAC,CAAC,EAAEM,OAAO,CAAC,CAAC;EAC7C,IAAMG,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;EACrB,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,QAAQ,EAAI;IAChC,IAAIJ,KAAK,CAACK,KAAK,KAAK,IAAI,EAAE;MACxBH,KAAK,CAACG,KAAK,GAAG,EAAE;MAChBL,KAAK,CAACK,KAAK,GAAGX,GAAG,CAAC,YAAM;QACtB,IAAIY,SAAS;QACbJ,KAAK,CAACG,KAAK,CAACE,OAAO,CAAC,UAAAC,UAAU,EAAI;UAChCF,SAAS,GAAGb,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEa,SAAS,CAAC,EAAEE,UAAU,CAAC;QAC3D,CAAC,CAAC;QACFf,QAAQ,CAACQ,KAAK,EAAEK,SAAS,CAAC;QAC1BN,KAAK,CAACK,KAAK,GAAG,IAAI;MACpB,CAAC,CAAC;IACJ;IACAH,KAAK,CAACG,KAAK,CAACI,IAAI,CAACL,QAAQ,CAAC;EAC5B,CAAC;EACDT,SAAS,CAAC,YAAM;IACdK,KAAK,CAACK,KAAK,IAAIX,GAAG,CAACgB,MAAM,CAACV,KAAK,CAACK,KAAK,CAAC;EACxC,CAAC,CAAC;EACF,OAAO,CAACJ,KAAK,EAAEE,aAAa,CAAC;AAC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}