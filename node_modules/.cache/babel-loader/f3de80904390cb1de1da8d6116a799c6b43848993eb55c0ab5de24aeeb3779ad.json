{"ast":null,"code":"import _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport VerticalAlignTopOutlined from \"@ant-design/icons-vue/es/icons/VerticalAlignTopOutlined\";\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defineComponent, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated } from 'vue';\nimport FloatButton, { floatButtonPrefixCls } from './FloatButton';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nimport { initDefaultProps } from '../_util/props-util';\nimport { backTopProps } from './interface';\nimport useStyle from './style';\nimport { useInjectFloatButtonGroupContext } from './context';\nvar BackTop = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: initDefaultProps(backTopProps(), {\n    visibilityHeight: 400,\n    target: function target() {\n      return window;\n    },\n    duration: 450,\n    type: 'default',\n    shape: 'circle'\n  }),\n  // emits: ['click'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      attrs = _ref.attrs,\n      emit = _ref.emit;\n    var _useConfigInject = useConfigInject(floatButtonPrefixCls, props),\n      prefixCls = _useConfigInject.prefixCls,\n      direction = _useConfigInject.direction;\n    var _useStyle = useStyle(prefixCls),\n      _useStyle2 = _slicedToArray(_useStyle, 1),\n      wrapSSR = _useStyle2[0];\n    var domRef = ref();\n    var state = reactive({\n      visible: props.visibilityHeight === 0,\n      scrollEvent: null\n    });\n    var getDefaultTarget = function getDefaultTarget() {\n      return domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    };\n    var scrollToTop = function scrollToTop(e) {\n      var _props$target = props.target,\n        target = _props$target === void 0 ? getDefaultTarget : _props$target,\n        duration = props.duration;\n      scrollTo(0, {\n        getContainer: target,\n        duration: duration\n      });\n      emit('click', e);\n    };\n    var handleScroll = throttleByAnimationFrame(function (e) {\n      var visibilityHeight = props.visibilityHeight;\n      var scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop >= visibilityHeight;\n    });\n    var bindScrollEvent = function bindScrollEvent() {\n      var target = props.target;\n      var getTarget = target || getDefaultTarget;\n      var container = getTarget();\n      handleScroll({\n        target: container\n      });\n      container === null || container === void 0 ? void 0 : container.addEventListener('scroll', handleScroll);\n    };\n    var scrollRemove = function scrollRemove() {\n      var target = props.target;\n      var getTarget = target || getDefaultTarget;\n      var container = getTarget();\n      handleScroll.cancel();\n      container === null || container === void 0 ? void 0 : container.removeEventListener('scroll', handleScroll);\n    };\n    watch(function () {\n      return props.target;\n    }, function () {\n      scrollRemove();\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onMounted(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onActivated(function () {\n      nextTick(function () {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(function () {\n      scrollRemove();\n    });\n    onBeforeUnmount(function () {\n      scrollRemove();\n    });\n    var floatButtonGroupContext = useInjectFloatButtonGroupContext();\n    return function () {\n      var _class;\n      var defaultElement = _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-content\")\n      }, [_createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls.value, \"-icon\")\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n      var floatButtonProps = _extends(_extends({}, attrs), {\n        shape: (floatButtonGroupContext === null || floatButtonGroupContext === void 0 ? void 0 : floatButtonGroupContext.shape.value) || props.shape,\n        onClick: scrollToTop,\n        \"class\": (_class = {}, _defineProperty(_class, \"\".concat(prefixCls.value), true), _defineProperty(_class, \"\".concat(attrs[\"class\"]), attrs[\"class\"]), _defineProperty(_class, \"\".concat(prefixCls.value, \"-rtl\"), direction.value === 'rtl'), _class)\n      });\n      var transitionProps = getTransitionProps('fade');\n      return wrapSSR(_createVNode(Transition, transitionProps, {\n        \"default\": function _default() {\n          return [_withDirectives(_createVNode(FloatButton, _objectSpread(_objectSpread({}, floatButtonProps), {}, {\n            \"ref\": domRef\n          }), {\n            icon: function icon() {\n              return _createVNode(VerticalAlignTopOutlined, null, null);\n            },\n            \"default\": function _default() {\n              var _a;\n              return ((_a = slots[\"default\"]) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement;\n            }\n          }), [[_vShow, state.visible]])];\n        }\n      }));\n    };\n  }\n});\nexport default BackTop;","map":{"version":3,"names":["_objectSpread","_extends","withDirectives","_withDirectives","vShow","_vShow","createVNode","_createVNode","VerticalAlignTopOutlined","getTransitionProps","Transition","defineComponent","nextTick","onActivated","onBeforeUnmount","onMounted","reactive","ref","watch","onDeactivated","FloatButton","floatButtonPrefixCls","useConfigInject","getScroll","scrollTo","throttleByAnimationFrame","initDefaultProps","backTopProps","useStyle","useInjectFloatButtonGroupContext","BackTop","compatConfig","MODE","name","inheritAttrs","props","visibilityHeight","target","window","duration","type","shape","setup","_ref","slots","attrs","emit","_useConfigInject","prefixCls","direction","_useStyle","_useStyle2","_slicedToArray","wrapSSR","domRef","state","visible","scrollEvent","getDefaultTarget","value","ownerDocument","scrollToTop","e","_props$target","getContainer","handleScroll","scrollTop","bindScrollEvent","getTarget","container","addEventListener","scrollRemove","cancel","removeEventListener","floatButtonGroupContext","_class","defaultElement","concat","floatButtonProps","onClick","_defineProperty","transitionProps","_default","icon","_a","call"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/float-button/BackTop.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { withDirectives as _withDirectives, vShow as _vShow, createVNode as _createVNode } from \"vue\";\nimport VerticalAlignTopOutlined from \"@ant-design/icons-vue/es/icons/VerticalAlignTopOutlined\";\nimport { getTransitionProps, Transition } from '../_util/transition';\nimport { defineComponent, nextTick, onActivated, onBeforeUnmount, onMounted, reactive, ref, watch, onDeactivated } from 'vue';\nimport FloatButton, { floatButtonPrefixCls } from './FloatButton';\nimport useConfigInject from '../config-provider/hooks/useConfigInject';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\nimport throttleByAnimationFrame from '../_util/throttleByAnimationFrame';\nimport { initDefaultProps } from '../_util/props-util';\nimport { backTopProps } from './interface';\nimport useStyle from './style';\nimport { useInjectFloatButtonGroupContext } from './context';\nconst BackTop = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ABackTop',\n  inheritAttrs: false,\n  props: initDefaultProps(backTopProps(), {\n    visibilityHeight: 400,\n    target: () => window,\n    duration: 450,\n    type: 'default',\n    shape: 'circle'\n  }),\n  // emits: ['click'],\n  setup(props, _ref) {\n    let {\n      slots,\n      attrs,\n      emit\n    } = _ref;\n    const {\n      prefixCls,\n      direction\n    } = useConfigInject(floatButtonPrefixCls, props);\n    const [wrapSSR] = useStyle(prefixCls);\n    const domRef = ref();\n    const state = reactive({\n      visible: props.visibilityHeight === 0,\n      scrollEvent: null\n    });\n    const getDefaultTarget = () => domRef.value && domRef.value.ownerDocument ? domRef.value.ownerDocument : window;\n    const scrollToTop = e => {\n      const {\n        target = getDefaultTarget,\n        duration\n      } = props;\n      scrollTo(0, {\n        getContainer: target,\n        duration\n      });\n      emit('click', e);\n    };\n    const handleScroll = throttleByAnimationFrame(e => {\n      const {\n        visibilityHeight\n      } = props;\n      const scrollTop = getScroll(e.target, true);\n      state.visible = scrollTop >= visibilityHeight;\n    });\n    const bindScrollEvent = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll({\n        target: container\n      });\n      container === null || container === void 0 ? void 0 : container.addEventListener('scroll', handleScroll);\n    };\n    const scrollRemove = () => {\n      const {\n        target\n      } = props;\n      const getTarget = target || getDefaultTarget;\n      const container = getTarget();\n      handleScroll.cancel();\n      container === null || container === void 0 ? void 0 : container.removeEventListener('scroll', handleScroll);\n    };\n    watch(() => props.target, () => {\n      scrollRemove();\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onMounted(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onActivated(() => {\n      nextTick(() => {\n        bindScrollEvent();\n      });\n    });\n    onDeactivated(() => {\n      scrollRemove();\n    });\n    onBeforeUnmount(() => {\n      scrollRemove();\n    });\n    const floatButtonGroupContext = useInjectFloatButtonGroupContext();\n    return () => {\n      const defaultElement = _createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-content`\n      }, [_createVNode(\"div\", {\n        \"class\": `${prefixCls.value}-icon`\n      }, [_createVNode(VerticalAlignTopOutlined, null, null)])]);\n      const floatButtonProps = _extends(_extends({}, attrs), {\n        shape: (floatButtonGroupContext === null || floatButtonGroupContext === void 0 ? void 0 : floatButtonGroupContext.shape.value) || props.shape,\n        onClick: scrollToTop,\n        class: {\n          [`${prefixCls.value}`]: true,\n          [`${attrs.class}`]: attrs.class,\n          [`${prefixCls.value}-rtl`]: direction.value === 'rtl'\n        }\n      });\n      const transitionProps = getTransitionProps('fade');\n      return wrapSSR(_createVNode(Transition, transitionProps, {\n        default: () => [_withDirectives(_createVNode(FloatButton, _objectSpread(_objectSpread({}, floatButtonProps), {}, {\n          \"ref\": domRef\n        }), {\n          icon: () => _createVNode(VerticalAlignTopOutlined, null, null),\n          default: () => {\n            var _a;\n            return ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)) || defaultElement;\n          }\n        }), [[_vShow, state.visible]])]\n      }));\n    };\n  }\n});\nexport default BackTop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}