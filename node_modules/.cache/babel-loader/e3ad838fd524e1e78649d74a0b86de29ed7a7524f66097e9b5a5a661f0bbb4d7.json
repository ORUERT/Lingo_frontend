{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"@/axios\";\nimport { MessageOutlined } from '@ant-design/icons-vue';\nexport default {\n  name: \"WordCard\",\n  data: function data() {\n    return {\n      showChatWindow: false,\n      word: '',\n      res: {},\n      count: 0,\n      prop: [{\n        definition: '',\n        url: '',\n        word: ''\n      }, {\n        definition: '',\n        url: '',\n        word: ''\n      }, {\n        definition: '',\n        url: '',\n        word: ''\n      }, {\n        definition: '',\n        url: '',\n        word: ''\n      }],\n      isIcon: false,\n      audioSrc: ''\n    };\n  },\n  mounted: function mounted() {\n    this.getData();\n  },\n  computed: {\n    enVal: function enVal() {\n      // 返回enVal的值\n      return this.$store.state.enVal;\n    }\n  },\n  methods: {\n    toggleChatWindow: function toggleChatWindow() {\n      this.showChatWindow = !this.showChatWindow; // 切换窗口的显示和隐藏状态\n    },\n    getData: function getData() {\n      var _this = this;\n      axios.get('/card/1').then(function (res) {\n        console.log(res.data.data[_this.count].definition_image);\n        _this.res = res.data.data;\n        _this.fillPage();\n        console.log(_this.prop[0].url);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    },\n    fillPage: function fillPage() {\n      console.log(this.res);\n      this.word = this.res[this.count].word;\n      var numbers = [];\n      while (numbers.length < 4) {\n        var randomNumber = Math.floor(Math.random() * (9 + 1));\n        if (!numbers.includes(randomNumber) && this.res[randomNumber].word !== this.word) {\n          numbers.push(randomNumber);\n        }\n      }\n      console.log(numbers);\n      for (var i = 0; i < 4; i++) {\n        this.prop[i].definition = this.res[numbers[i]].definition;\n        this.prop[i].word = this.res[numbers[i]].word;\n        this.prop[i].url = 'http://localhost:8082/' + 'output2/' + this.res[numbers[i]].definition_image;\n        this.prop[i].method = this.getOnError;\n      }\n      var j = Math.floor(Math.random() * 4);\n      this.prop[j].definition = this.res[this.count].definition;\n      this.prop[j].word = this.res[this.count].word;\n      this.prop[j].url = 'http://localhost:8082/' + 'output2/' + this.res[this.count].definition_image;\n      this.prop[j].method = this.getOnSuccess;\n    },\n    getOnSuccess: function getOnSuccess() {\n      this.count++;\n      console.log('success');\n      if (this.count === 10) {\n        this.count = 0;\n      } else {\n        this.fillPage();\n      }\n    },\n    getOnError: function getOnError() {\n      // this.count ++\n      console.log('error');\n    },\n    readAudio: function readAudio(lang) {\n      this.$refs.audioRef.src = 'https://api.vvhan.com/api/song?txt=' + word;\n      this.$refs.audioRef.play();\n      this.isicon = true;\n    }\n  }\n};","map":{"version":3,"names":["axios","MessageOutlined","name","data","showChatWindow","word","res","count","prop","definition","url","isIcon","audioSrc","mounted","getData","computed","enVal","$store","state","methods","toggleChatWindow","_this","get","then","console","log","definition_image","fillPage","err","numbers","length","randomNumber","Math","floor","random","includes","push","i","method","getOnError","j","getOnSuccess","readAudio","lang","$refs","audioRef","src","play","isicon"],"sources":["C:\\Users\\zhouy\\WebstormProjects\\lingo\\src\\view\\WordCard.vue"],"sourcesContent":["<template>\r\n  <div class=\"content home\">\r\n    <div class=\"left\">\r\n      <a-typography-title v-bind:content=\"word\"></a-typography-title>\r\n      <div>\r\n        <span @click=\"readAudio('en')\" :class=\"isIcon ? 'loudspeaker loudspeaker_animation' : 'loudspeaker'\"></span>\r\n        <audio ref=\"audioRef\" id=\"audio_media\" height=\"0\" width=\"0\" :src=\"audioSrc\"></audio>\r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"card-grid\">\r\n        <div class=\"card\" :style=\"{ 'background-image': 'url(' + prop[0].url + ')','background-size': 'cover' }\" @click=\"prop[0].method\">\r\n          <a-typography-text class=\"definition\"  v-bind:content=\"prop[0].definition\"></a-typography-text>\r\n        </div>\r\n        <div class=\"card\" :style=\"{ 'background-image': 'url(' + prop[1].url + ')','background-size': 'cover' }\" @click=\"prop[1].method\">\r\n          <a-typography-text class=\"definition\" v-bind:content=\"prop[1].definition\"></a-typography-text>\r\n\r\n        </div>\r\n        <div class=\"card\" :style=\"{ 'background-image': 'url(' + prop[2].url + ')','background-size': 'cover' }\" @click=\"prop[2].method\">\r\n          <a-typography-text class=\"definition\" v-bind:content=\"prop[2].definition\"></a-typography-text>\r\n\r\n        </div>\r\n        <div class=\"card\" :style=\"{ 'background-image': 'url(' + prop[3].url + ')','background-size': 'cover' }\" @click=\"prop[3].method\">\r\n          <a-typography-text class=\"definition\" v-bind:content=\"prop[3].definition\"></a-typography-text>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/axios\";\r\nimport { MessageOutlined } from '@ant-design/icons-vue';\r\nexport default {\r\n  name: \"WordCard\",\r\n  data(){\r\n    return {\r\n      showChatWindow: false,\r\n      word: '',\r\n      res:{},\r\n      count:0,\r\n      prop: [\r\n        {definition:'',url:'',word:''},\r\n        {definition:'',url:'',word:''},\r\n        {definition:'',url:'',word:''},\r\n        {definition:'',url:'',word:''},\r\n      ],\r\n      isIcon: false,\r\n      audioSrc: ''\r\n    }\r\n\r\n  },\r\n  mounted:function (){\r\n    this.getData()\r\n  },\r\n  computed: {\r\n    enVal() {\r\n      // 返回enVal的值\r\n      return this.$store.state.enVal;\r\n    }\r\n  },\r\n  methods:{\r\n    toggleChatWindow() {\r\n      this.showChatWindow = !this.showChatWindow; // 切换窗口的显示和隐藏状态\r\n    },\r\n    getData(){\r\n      axios.get('/card/1').then(res=>{\r\n        console.log(res.data.data[this.count].definition_image)\r\n        this.res = res.data.data\r\n        this.fillPage()\r\n        console.log(this.prop[0].url)\r\n      }).catch(err=>{\r\n        console.log(err)\r\n      })\r\n    },\r\n    fillPage(){\r\n      console.log(this.res)\r\n      this.word = this.res[this.count].word\r\n      let numbers = [];\r\n\r\n      while (numbers.length < 4) {\r\n        let randomNumber = Math.floor(Math.random() * (9 + 1));\r\n        if (!numbers.includes(randomNumber)&&this.res[randomNumber].word !== this.word) {\r\n          numbers.push(randomNumber);\r\n        }\r\n      }\r\n\r\n      console.log(numbers)\r\n      for(let i = 0;i<4;i++){\r\n        this.prop[i].definition = this.res[numbers[i]].definition\r\n        this.prop[i].word = this.res[numbers[i]].word\r\n        this.prop[i].url = 'http://localhost:8082/'+'output2/'+this.res[numbers[i]].definition_image\r\n        this.prop[i].method = this.getOnError\r\n      }\r\n      let j = Math.floor(Math.random() * 4);\r\n      this.prop[j].definition = this.res[this.count].definition\r\n      this.prop[j].word = this.res[this.count].word\r\n      this.prop[j].url = 'http://localhost:8082/'+'output2/'+this.res[this.count].definition_image\r\n      this.prop[j].method = this.getOnSuccess\r\n    },\r\n    getOnSuccess(){\r\n      this.count ++\r\n      console.log('success')\r\n      if(this.count === 10){\r\n        this.count = 0\r\n      }else{\r\n        this.fillPage()\r\n      }\r\n    },\r\n    getOnError(){\r\n      // this.count ++\r\n      console.log('error')\r\n    },\r\n    readAudio(lang) {\r\n      this.$refs.audioRef.src = 'https://api.vvhan.com/api/song?txt='+word\r\n      this.$refs.audioRef.play();\r\n      this.isicon = true;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../scss/pages/_word-card.scss\";\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}