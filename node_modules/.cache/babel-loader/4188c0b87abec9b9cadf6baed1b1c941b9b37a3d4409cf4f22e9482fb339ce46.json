{"ast":null,"code":"import _typeof from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.is-nan.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { getSeparatedContent } from './utils/valueUtil';\nimport SelectTrigger from './SelectTrigger';\nimport Selector from './Selector';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useDelayReset from './hooks/useDelayReset';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport { useProvideBaseSelectProps } from './hooks/useBaseProps';\nimport { computed, defineComponent, getCurrentInstance, onBeforeUnmount, onMounted, provide, shallowRef, toRefs, watch, watchEffect } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { initDefaultProps, isValidElement } from '../_util/props-util';\nimport isMobile from '../vc-util/isMobile';\nimport KeyCode from '../_util/KeyCode';\nimport { toReactive } from '../_util/toReactive';\nimport classNames from '../_util/classNames';\nimport createRef from '../_util/createRef';\nimport useInjectLegacySelectContext from '../vc-tree-select/LegacyContext';\nimport { cloneElement } from '../_util/vnode';\nvar DEFAULT_OMIT_PROPS = ['value', 'onChange', 'removeIcon', 'placeholder', 'autofocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'onPopupScroll', 'tabindex', 'OptionList', 'notFoundContent'];\nvar baseSelectPrivateProps = function baseSelectPrivateProps() {\n  return {\n    prefixCls: String,\n    id: String,\n    omitDomProps: Array,\n    // >>> Value\n    displayValues: Array,\n    onDisplayValuesChange: Function,\n    // >>> Active\n    /** Current dropdown list active item string value */\n    activeValue: String,\n    /** Link search input with target element */\n    activeDescendantId: String,\n    onActiveValueChange: Function,\n    // >>> Search\n    searchValue: String,\n    /** Trigger onSearch, return false to prevent trigger open event */\n    onSearch: Function,\n    /** Trigger when search text match the `tokenSeparators`. Will provide split content */\n    onSearchSplit: Function,\n    maxLength: Number,\n    OptionList: PropTypes.any,\n    /** Tell if provided `options` is empty */\n    emptyOptions: Boolean\n  };\n};\nexport var baseSelectPropsWithoutPrivate = function baseSelectPropsWithoutPrivate() {\n  return {\n    showSearch: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    tagRender: {\n      type: Function\n    },\n    optionLabelRender: {\n      type: Function\n    },\n    direction: {\n      type: String\n    },\n    // MISC\n    tabindex: Number,\n    autofocus: Boolean,\n    notFoundContent: PropTypes.any,\n    placeholder: PropTypes.any,\n    onClear: Function,\n    choiceTransitionName: String,\n    // >>> Mode\n    mode: String,\n    // >>> Status\n    disabled: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    loading: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    // >>> Open\n    open: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    defaultOpen: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    onDropdownVisibleChange: {\n      type: Function\n    },\n    // >>> Customize Input\n    /** @private Internal usage. Do not use in your production. */\n    getInputElement: {\n      type: Function\n    },\n    /** @private Internal usage. Do not use in your production. */\n    getRawInputElement: {\n      type: Function\n    },\n    // >>> Selector\n    maxTagTextLength: Number,\n    maxTagCount: {\n      type: [String, Number]\n    },\n    maxTagPlaceholder: PropTypes.any,\n    // >>> Search\n    tokenSeparators: {\n      type: Array\n    },\n    // >>> Icons\n    allowClear: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    showArrow: {\n      type: Boolean,\n      \"default\": undefined\n    },\n    inputIcon: PropTypes.any,\n    /** Clear all icon */\n    clearIcon: PropTypes.any,\n    /** Selector remove icon */\n    removeIcon: PropTypes.any,\n    // >>> Dropdown\n    animation: String,\n    transitionName: String,\n    dropdownStyle: {\n      type: Object\n    },\n    dropdownClassName: String,\n    dropdownMatchSelectWidth: {\n      type: [Boolean, Number],\n      \"default\": undefined\n    },\n    dropdownRender: {\n      type: Function\n    },\n    dropdownAlign: Object,\n    placement: {\n      type: String\n    },\n    getPopupContainer: {\n      type: Function\n    },\n    // >>> Focus\n    showAction: {\n      type: Array\n    },\n    onBlur: {\n      type: Function\n    },\n    onFocus: {\n      type: Function\n    },\n    // >>> Rest Events\n    onKeyup: Function,\n    onKeydown: Function,\n    onMousedown: Function,\n    onPopupScroll: Function,\n    onInputKeyDown: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onClick: Function\n  };\n};\nvar baseSelectProps = function baseSelectProps() {\n  return _extends(_extends({}, baseSelectPrivateProps()), baseSelectPropsWithoutPrivate());\n};\nexport function isMultiple(mode) {\n  return mode === 'tags' || mode === 'multiple';\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'BaseSelect',\n  inheritAttrs: false,\n  props: initDefaultProps(baseSelectProps(), {\n    showAction: [],\n    notFoundContent: 'Not Found'\n  }),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      expose = _ref.expose,\n      slots = _ref.slots;\n    var multiple = computed(function () {\n      return isMultiple(props.mode);\n    });\n    var mergedShowSearch = computed(function () {\n      return props.showSearch !== undefined ? props.showSearch : multiple.value || props.mode === 'combobox';\n    });\n    var mobile = shallowRef(false);\n    onMounted(function () {\n      mobile.value = isMobile();\n    });\n    var legacyTreeSelectContext = useInjectLegacySelectContext();\n    // ============================== Refs ==============================\n    var containerRef = shallowRef(null);\n    var selectorDomRef = createRef();\n    var triggerRef = shallowRef(null);\n    var selectorRef = shallowRef(null);\n    var listRef = shallowRef(null);\n    /** Used for component focused management */\n    var _useDelayReset = useDelayReset(),\n      _useDelayReset2 = _slicedToArray(_useDelayReset, 3),\n      mockFocused = _useDelayReset2[0],\n      setMockFocused = _useDelayReset2[1],\n      cancelSetMockFocused = _useDelayReset2[2];\n    var focus = function focus() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    var blur = function blur() {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n    };\n    expose({\n      focus: focus,\n      blur: blur,\n      scrollTo: function scrollTo(arg) {\n        var _a;\n        return (_a = listRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg);\n      }\n    });\n    var mergedSearchValue = computed(function () {\n      var _a;\n      if (props.mode !== 'combobox') {\n        return props.searchValue;\n      }\n      var val = (_a = props.displayValues[0]) === null || _a === void 0 ? void 0 : _a.value;\n      return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n    });\n    // ============================== Open ==============================\n    var initOpen = props.open !== undefined ? props.open : props.defaultOpen;\n    var innerOpen = shallowRef(initOpen);\n    var mergedOpen = shallowRef(initOpen);\n    var setInnerOpen = function setInnerOpen(val) {\n      innerOpen.value = props.open !== undefined ? props.open : val;\n      mergedOpen.value = innerOpen.value;\n    };\n    watch(function () {\n      return props.open;\n    }, function () {\n      setInnerOpen(props.open);\n    });\n    // Not trigger `open` in `combobox` when `notFoundContent` is empty\n    var emptyListContent = computed(function () {\n      return !props.notFoundContent && props.emptyOptions;\n    });\n    watchEffect(function () {\n      mergedOpen.value = innerOpen.value;\n      if (props.disabled || emptyListContent.value && mergedOpen.value && props.mode === 'combobox') {\n        mergedOpen.value = false;\n      }\n    });\n    var triggerOpen = computed(function () {\n      return emptyListContent.value ? false : mergedOpen.value;\n    });\n    var onToggleOpen = function onToggleOpen(newOpen) {\n      var nextOpen = newOpen !== undefined ? newOpen : !mergedOpen.value;\n      if (innerOpen.value !== nextOpen && !props.disabled) {\n        setInnerOpen(nextOpen);\n        if (props.onDropdownVisibleChange) {\n          props.onDropdownVisibleChange(nextOpen);\n        }\n      }\n    };\n    var tokenWithEnter = computed(function () {\n      return (props.tokenSeparators || []).some(function (tokenSeparator) {\n        return ['\\n', '\\r\\n'].includes(tokenSeparator);\n      });\n    });\n    var onInternalSearch = function onInternalSearch(searchText, fromTyping, isCompositing) {\n      var _a, _b;\n      var ret = true;\n      var newSearchText = searchText;\n      (_a = props.onActiveValueChange) === null || _a === void 0 ? void 0 : _a.call(props, null);\n      // Check if match the `tokenSeparators`\n      var patchLabels = isCompositing ? null : getSeparatedContent(searchText, props.tokenSeparators);\n      // Ignore combobox since it's not split-able\n      if (props.mode !== 'combobox' && patchLabels) {\n        newSearchText = '';\n        (_b = props.onSearchSplit) === null || _b === void 0 ? void 0 : _b.call(props, patchLabels);\n        // Should close when paste finish\n        onToggleOpen(false);\n        // Tell Selector that break next actions\n        ret = false;\n      }\n      if (props.onSearch && mergedSearchValue.value !== newSearchText) {\n        props.onSearch(newSearchText, {\n          source: fromTyping ? 'typing' : 'effect'\n        });\n      }\n      return ret;\n    };\n    // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n    var onInternalSearchSubmit = function onInternalSearchSubmit(searchText) {\n      var _a;\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n      (_a = props.onSearch) === null || _a === void 0 ? void 0 : _a.call(props, searchText, {\n        source: 'submit'\n      });\n    };\n    // Close will clean up single mode search text\n    watch(mergedOpen, function () {\n      if (!mergedOpen.value && !multiple.value && props.mode !== 'combobox') {\n        onInternalSearch('', false, false);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // ============================ Disabled ============================\n    // Close dropdown & remove focus state when disabled change\n    watch(function () {\n      return props.disabled;\n    }, function () {\n      if (innerOpen.value && !!props.disabled) {\n        setInnerOpen(false);\n      }\n    }, {\n      immediate: true\n    });\n    // ============================ Keyboard ============================\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n    var _useLock = useLock(),\n      _useLock2 = _slicedToArray(_useLock, 2),\n      getClearLock = _useLock2[0],\n      setClearLock = _useLock2[1];\n    // KeyDown\n    var onInternalKeyDown = function onInternalKeyDown(event) {\n      var _a2;\n      var _a;\n      var clearLock = getClearLock();\n      var which = event.which;\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (props.mode !== 'combobox') {\n          event.preventDefault();\n        }\n        // We only manage open state here, close logic should handle by list component\n        if (!mergedOpen.value) {\n          onToggleOpen(true);\n        }\n      }\n      setClearLock(!!mergedSearchValue.value);\n      // Remove value by `backspace`\n      if (which === KeyCode.BACKSPACE && !clearLock && multiple.value && !mergedSearchValue.value && props.displayValues.length) {\n        var cloneDisplayValues = _toConsumableArray(props.displayValues);\n        var removedDisplayValue = null;\n        for (var i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n          var current = cloneDisplayValues[i];\n          if (!current.disabled) {\n            cloneDisplayValues.splice(i, 1);\n            removedDisplayValue = current;\n            break;\n          }\n        }\n        if (removedDisplayValue) {\n          props.onDisplayValuesChange(cloneDisplayValues, {\n            type: 'remove',\n            values: [removedDisplayValue]\n          });\n        }\n      }\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value;\n        (_listRef$value = listRef.value).onKeydown.apply(_listRef$value, [event].concat(rest));\n      }\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : (_a2 = _a).call.apply(_a2, [props, event].concat(rest));\n    };\n    // KeyUp\n    var onInternalKeyUp = function onInternalKeyUp(event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n      if (mergedOpen.value && listRef.value) {\n        var _listRef$value2;\n        (_listRef$value2 = listRef.value).onKeyup.apply(_listRef$value2, [event].concat(rest));\n      }\n      if (props.onKeyup) {\n        props.onKeyup.apply(props, [event].concat(rest));\n      }\n    };\n    // ============================ Selector ============================\n    var onSelectorRemove = function onSelectorRemove(val) {\n      var newValues = props.displayValues.filter(function (i) {\n        return i !== val;\n      });\n      props.onDisplayValuesChange(newValues, {\n        type: 'remove',\n        values: [val]\n      });\n    };\n    // ========================== Focus / Blur ==========================\n    /** Record real focus status */\n    var focusRef = shallowRef(false);\n    var onContainerFocus = function onContainerFocus() {\n      setMockFocused(true);\n      if (!props.disabled) {\n        if (props.onFocus && !focusRef.value) {\n          props.onFocus.apply(props, arguments);\n        }\n        // `showAction` should handle `focus` if set\n        if (props.showAction && props.showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n      focusRef.value = true;\n    };\n    var onContainerBlur = function onContainerBlur() {\n      setMockFocused(false, function () {\n        focusRef.value = false;\n        onToggleOpen(false);\n      });\n      if (props.disabled) {\n        return;\n      }\n      var searchVal = mergedSearchValue.value;\n      if (searchVal) {\n        // `tags` mode should move `searchValue` into values\n        if (props.mode === 'tags') {\n          props.onSearch(searchVal, {\n            source: 'submit'\n          });\n        } else if (props.mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          props.onSearch('', {\n            source: 'blur'\n          });\n        }\n      }\n      if (props.onBlur) {\n        props.onBlur.apply(props, arguments);\n      }\n    };\n    provide('VCSelectContainerEvent', {\n      focus: onContainerFocus,\n      blur: onContainerBlur\n    });\n    // Give focus back of Select\n    var activeTimeoutIds = [];\n    onMounted(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    onBeforeUnmount(function () {\n      activeTimeoutIds.forEach(function (timeoutId) {\n        return clearTimeout(timeoutId);\n      });\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    var onInternalMouseDown = function onInternalMouseDown(event) {\n      var _b2;\n      var _a, _b;\n      var target = event.target;\n      var popupElement = (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.getPopupElement();\n      // We should give focus back to selector if clicked item is not focusable\n      if (popupElement && popupElement.contains(target)) {\n        var timeoutId = setTimeout(function () {\n          var _a;\n          var index = activeTimeoutIds.indexOf(timeoutId);\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n          cancelSetMockFocused();\n          if (!mobile.value && !popupElement.contains(document.activeElement)) {\n            (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n      for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        restArgs[_key3 - 1] = arguments[_key3];\n      }\n      (_b = props.onMousedown) === null || _b === void 0 ? void 0 : (_b2 = _b).call.apply(_b2, [props, event].concat(restArgs));\n    };\n    // ============================= Dropdown ==============================\n    var containerWidth = shallowRef(null);\n    var instance = getCurrentInstance();\n    var onPopupMouseEnter = function onPopupMouseEnter() {\n      // We need force update here since popup dom is render async\n      instance.update();\n    };\n    onMounted(function () {\n      watch(triggerOpen, function () {\n        var _a;\n        if (triggerOpen.value) {\n          var newWidth = Math.ceil((_a = containerRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth);\n          if (containerWidth.value !== newWidth && !Number.isNaN(newWidth)) {\n            containerWidth.value = newWidth;\n          }\n        }\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    // Close when click on non-select element\n    useSelectTriggerControl([containerRef, triggerRef], triggerOpen, onToggleOpen);\n    useProvideBaseSelectProps(toReactive(_extends(_extends({}, toRefs(props)), {\n      open: mergedOpen,\n      triggerOpen: triggerOpen,\n      showSearch: mergedShowSearch,\n      multiple: multiple,\n      toggleOpen: onToggleOpen\n    })));\n    return function () {\n      var _classNames2;\n      var _a = _extends(_extends({}, props), attrs),\n        prefixCls = _a.prefixCls,\n        id = _a.id,\n        open = _a.open,\n        defaultOpen = _a.defaultOpen,\n        mode = _a.mode,\n        showSearch = _a.showSearch,\n        searchValue = _a.searchValue,\n        onSearch = _a.onSearch,\n        allowClear = _a.allowClear,\n        clearIcon = _a.clearIcon,\n        showArrow = _a.showArrow,\n        inputIcon = _a.inputIcon,\n        disabled = _a.disabled,\n        loading = _a.loading,\n        getInputElement = _a.getInputElement,\n        getPopupContainer = _a.getPopupContainer,\n        placement = _a.placement,\n        animation = _a.animation,\n        transitionName = _a.transitionName,\n        dropdownStyle = _a.dropdownStyle,\n        dropdownClassName = _a.dropdownClassName,\n        dropdownMatchSelectWidth = _a.dropdownMatchSelectWidth,\n        dropdownRender = _a.dropdownRender,\n        dropdownAlign = _a.dropdownAlign,\n        showAction = _a.showAction,\n        direction = _a.direction,\n        tokenSeparators = _a.tokenSeparators,\n        tagRender = _a.tagRender,\n        optionLabelRender = _a.optionLabelRender,\n        onPopupScroll = _a.onPopupScroll,\n        onDropdownVisibleChange = _a.onDropdownVisibleChange,\n        onFocus = _a.onFocus,\n        onBlur = _a.onBlur,\n        onKeyup = _a.onKeyup,\n        onKeydown = _a.onKeydown,\n        onMousedown = _a.onMousedown,\n        onClear = _a.onClear,\n        omitDomProps = _a.omitDomProps,\n        getRawInputElement = _a.getRawInputElement,\n        displayValues = _a.displayValues,\n        onDisplayValuesChange = _a.onDisplayValuesChange,\n        emptyOptions = _a.emptyOptions,\n        activeDescendantId = _a.activeDescendantId,\n        activeValue = _a.activeValue,\n        OptionList = _a.OptionList,\n        restProps = __rest(_a, [\"prefixCls\", \"id\", \"open\", \"defaultOpen\", \"mode\", \"showSearch\", \"searchValue\", \"onSearch\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"disabled\", \"loading\", \"getInputElement\", \"getPopupContainer\", \"placement\", \"animation\", \"transitionName\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"optionLabelRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyup\", \"onKeydown\", \"onMousedown\", \"onClear\", \"omitDomProps\", \"getRawInputElement\", \"displayValues\", \"onDisplayValuesChange\", \"emptyOptions\", \"activeDescendantId\", \"activeValue\", \"OptionList\"]);\n\n      // ============================= Input ==============================\n      // Only works in `combobox`\n      var customizeInputElement = mode === 'combobox' && getInputElement && getInputElement() || null;\n      // Used for customize replacement for `vc-cascader`\n      var customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement();\n      var domProps = _extends({}, restProps);\n      // Used for raw custom input trigger\n      var onTriggerVisibleChange;\n      if (customizeRawInputElement) {\n        onTriggerVisibleChange = function onTriggerVisibleChange(newOpen) {\n          onToggleOpen(newOpen);\n        };\n      }\n      DEFAULT_OMIT_PROPS.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      omitDomProps === null || omitDomProps === void 0 ? void 0 : omitDomProps.forEach(function (propName) {\n        delete domProps[propName];\n      });\n      // ============================= Arrow ==============================\n      var mergedShowArrow = showArrow !== undefined ? showArrow : loading || !multiple.value && mode !== 'combobox';\n      var arrowNode;\n      if (mergedShowArrow) {\n        arrowNode = _createVNode(TransBtn, {\n          \"class\": classNames(\"\".concat(prefixCls, \"-arrow\"), _defineProperty({}, \"\".concat(prefixCls, \"-arrow-loading\"), loading)),\n          \"customizeIcon\": inputIcon,\n          \"customizeIconProps\": {\n            loading: loading,\n            searchValue: mergedSearchValue.value,\n            open: mergedOpen.value,\n            focused: mockFocused.value,\n            showSearch: mergedShowSearch.value\n          }\n        }, null);\n      }\n      // ============================= Clear ==============================\n      var clearNode;\n      var onClearMouseDown = function onClearMouseDown() {\n        onClear === null || onClear === void 0 ? void 0 : onClear();\n        onDisplayValuesChange([], {\n          type: 'clear',\n          values: displayValues\n        });\n        onInternalSearch('', false, false);\n      };\n      if (!disabled && allowClear && (displayValues.length || mergedSearchValue.value)) {\n        clearNode = _createVNode(TransBtn, {\n          \"class\": \"\".concat(prefixCls, \"-clear\"),\n          \"onMousedown\": onClearMouseDown,\n          \"customizeIcon\": clearIcon\n        }, {\n          \"default\": function _default() {\n            return [_createTextVNode(\"\\xD7\")];\n          }\n        });\n      }\n      // =========================== OptionList ===========================\n      var optionList = _createVNode(OptionList, {\n        \"ref\": listRef\n      }, _extends(_extends({}, legacyTreeSelectContext.customSlots), {\n        option: slots.option\n      }));\n      // ============================= Select =============================\n      var mergedClassName = classNames(prefixCls, attrs[\"class\"], (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-focused\"), mockFocused.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-multiple\"), multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-single\"), !multiple.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-allow-clear\"), allowClear), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-arrow\"), mergedShowArrow), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-open\"), mergedOpen.value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-customize-input\"), customizeInputElement), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-show-search\"), mergedShowSearch.value), _classNames2));\n      // >>> Selector\n      var selectorNode = _createVNode(SelectTrigger, {\n        \"ref\": triggerRef,\n        \"disabled\": disabled,\n        \"prefixCls\": prefixCls,\n        \"visible\": triggerOpen.value,\n        \"popupElement\": optionList,\n        \"containerWidth\": containerWidth.value,\n        \"animation\": animation,\n        \"transitionName\": transitionName,\n        \"dropdownStyle\": dropdownStyle,\n        \"dropdownClassName\": dropdownClassName,\n        \"direction\": direction,\n        \"dropdownMatchSelectWidth\": dropdownMatchSelectWidth,\n        \"dropdownRender\": dropdownRender,\n        \"dropdownAlign\": dropdownAlign,\n        \"placement\": placement,\n        \"getPopupContainer\": getPopupContainer,\n        \"empty\": emptyOptions,\n        \"getTriggerDOMNode\": function getTriggerDOMNode() {\n          return selectorDomRef.current;\n        },\n        \"onPopupVisibleChange\": onTriggerVisibleChange,\n        \"onPopupMouseEnter\": onPopupMouseEnter\n      }, {\n        \"default\": function _default() {\n          return customizeRawInputElement ? isValidElement(customizeRawInputElement) && cloneElement(customizeRawInputElement, {\n            ref: selectorDomRef\n          }, false, true) : _createVNode(Selector, _objectSpread(_objectSpread({}, props), {}, {\n            \"domRef\": selectorDomRef,\n            \"prefixCls\": prefixCls,\n            \"inputElement\": customizeInputElement,\n            \"ref\": selectorRef,\n            \"id\": id,\n            \"showSearch\": mergedShowSearch.value,\n            \"mode\": mode,\n            \"activeDescendantId\": activeDescendantId,\n            \"tagRender\": tagRender,\n            \"optionLabelRender\": optionLabelRender,\n            \"values\": displayValues,\n            \"open\": mergedOpen.value,\n            \"onToggleOpen\": onToggleOpen,\n            \"activeValue\": activeValue,\n            \"searchValue\": mergedSearchValue.value,\n            \"onSearch\": onInternalSearch,\n            \"onSearchSubmit\": onInternalSearchSubmit,\n            \"onRemove\": onSelectorRemove,\n            \"tokenWithEnter\": tokenWithEnter.value\n          }), null);\n        }\n      });\n      // >>> Render\n      var renderNode;\n      // Render raw\n      if (customizeRawInputElement) {\n        renderNode = selectorNode;\n      } else {\n        renderNode = _createVNode(\"div\", _objectSpread(_objectSpread({}, domProps), {}, {\n          \"class\": mergedClassName,\n          \"ref\": containerRef,\n          \"onMousedown\": onInternalMouseDown,\n          \"onKeydown\": onInternalKeyDown,\n          \"onKeyup\": onInternalKeyUp\n        }), [mockFocused.value && !mergedOpen.value && _createVNode(\"span\", {\n          \"style\": {\n            width: 0,\n            height: 0,\n            position: 'absolute',\n            overflow: 'hidden',\n            opacity: 0\n          },\n          \"aria-live\": \"polite\"\n        }, [\"\".concat(displayValues.map(function (_ref2) {\n          var label = _ref2.label,\n            value = _ref2.value;\n          return ['number', 'string'].includes(_typeof(label)) ? label : value;\n        }).join(', '))]), selectorNode, arrowNode, clearNode]);\n      }\n      return renderNode;\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_extends","resolveDirective","_resolveDirective","createTextVNode","_createTextVNode","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","getSeparatedContent","SelectTrigger","Selector","useSelectTriggerControl","useDelayReset","TransBtn","useLock","useProvideBaseSelectProps","computed","defineComponent","getCurrentInstance","onBeforeUnmount","onMounted","provide","shallowRef","toRefs","watch","watchEffect","PropTypes","initDefaultProps","isValidElement","isMobile","KeyCode","toReactive","classNames","createRef","useInjectLegacySelectContext","cloneElement","DEFAULT_OMIT_PROPS","baseSelectPrivateProps","prefixCls","String","id","omitDomProps","Array","displayValues","onDisplayValuesChange","Function","activeValue","activeDescendantId","onActiveValueChange","searchValue","onSearch","onSearchSplit","maxLength","Number","OptionList","any","emptyOptions","Boolean","baseSelectPropsWithoutPrivate","showSearch","type","undefined","tagRender","optionLabelRender","direction","tabindex","autofocus","notFoundContent","placeholder","onClear","choiceTransitionName","mode","disabled","loading","open","defaultOpen","onDropdownVisibleChange","getInputElement","getRawInputElement","maxTagTextLength","maxTagCount","maxTagPlaceholder","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","removeIcon","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onBlur","onFocus","onKeyup","onKeydown","onMousedown","onPopupScroll","onInputKeyDown","onMouseenter","onMouseleave","onClick","baseSelectProps","isMultiple","compatConfig","MODE","name","inheritAttrs","props","setup","_ref","attrs","expose","slots","multiple","mergedShowSearch","value","mobile","legacyTreeSelectContext","containerRef","selectorDomRef","triggerRef","selectorRef","listRef","_useDelayReset","_useDelayReset2","_slicedToArray","mockFocused","setMockFocused","cancelSetMockFocused","focus","_a","blur","scrollTo","arg","mergedSearchValue","val","initOpen","innerOpen","mergedOpen","setInnerOpen","emptyListContent","triggerOpen","onToggleOpen","newOpen","nextOpen","tokenWithEnter","some","tokenSeparator","includes","onInternalSearch","searchText","fromTyping","isCompositing","_b","ret","newSearchText","patchLabels","source","onInternalSearchSubmit","trim","immediate","flush","_useLock","_useLock2","getClearLock","setClearLock","onInternalKeyDown","event","_a2","clearLock","which","ENTER","preventDefault","BACKSPACE","cloneDisplayValues","_toConsumableArray","removedDisplayValue","current","splice","values","_len","arguments","rest","_key","_listRef$value","apply","concat","onInternalKeyUp","_len2","_key2","_listRef$value2","onSelectorRemove","newValues","filter","focusRef","onContainerFocus","onContainerBlur","searchVal","activeTimeoutIds","forEach","timeoutId","clearTimeout","onInternalMouseDown","_b2","target","popupElement","getPopupElement","contains","setTimeout","index","document","activeElement","push","_len3","restArgs","_key3","containerWidth","instance","onPopupMouseEnter","update","newWidth","Math","ceil","offsetWidth","isNaN","toggleOpen","_classNames2","restProps","customizeInputElement","customizeRawInputElement","domProps","onTriggerVisibleChange","propName","mergedShowArrow","arrowNode","_defineProperty","focused","clearNode","onClearMouseDown","_default","optionList","customSlots","option","mergedClassName","selectorNode","getTriggerDOMNode","ref","renderNode","width","height","position","overflow","opacity","map","_ref2","label","_typeof","join"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-select/BaseSelect.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createTextVNode as _createTextVNode, createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { getSeparatedContent } from './utils/valueUtil';\nimport SelectTrigger from './SelectTrigger';\nimport Selector from './Selector';\nimport useSelectTriggerControl from './hooks/useSelectTriggerControl';\nimport useDelayReset from './hooks/useDelayReset';\nimport TransBtn from './TransBtn';\nimport useLock from './hooks/useLock';\nimport { useProvideBaseSelectProps } from './hooks/useBaseProps';\nimport { computed, defineComponent, getCurrentInstance, onBeforeUnmount, onMounted, provide, shallowRef, toRefs, watch, watchEffect } from 'vue';\nimport PropTypes from '../_util/vue-types';\nimport { initDefaultProps, isValidElement } from '../_util/props-util';\nimport isMobile from '../vc-util/isMobile';\nimport KeyCode from '../_util/KeyCode';\nimport { toReactive } from '../_util/toReactive';\nimport classNames from '../_util/classNames';\nimport createRef from '../_util/createRef';\nimport useInjectLegacySelectContext from '../vc-tree-select/LegacyContext';\nimport { cloneElement } from '../_util/vnode';\nconst DEFAULT_OMIT_PROPS = ['value', 'onChange', 'removeIcon', 'placeholder', 'autofocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'onPopupScroll', 'tabindex', 'OptionList', 'notFoundContent'];\nconst baseSelectPrivateProps = () => {\n  return {\n    prefixCls: String,\n    id: String,\n    omitDomProps: Array,\n    // >>> Value\n    displayValues: Array,\n    onDisplayValuesChange: Function,\n    // >>> Active\n    /** Current dropdown list active item string value */\n    activeValue: String,\n    /** Link search input with target element */\n    activeDescendantId: String,\n    onActiveValueChange: Function,\n    // >>> Search\n    searchValue: String,\n    /** Trigger onSearch, return false to prevent trigger open event */\n    onSearch: Function,\n    /** Trigger when search text match the `tokenSeparators`. Will provide split content */\n    onSearchSplit: Function,\n    maxLength: Number,\n    OptionList: PropTypes.any,\n    /** Tell if provided `options` is empty */\n    emptyOptions: Boolean\n  };\n};\nexport const baseSelectPropsWithoutPrivate = () => {\n  return {\n    showSearch: {\n      type: Boolean,\n      default: undefined\n    },\n    tagRender: {\n      type: Function\n    },\n    optionLabelRender: {\n      type: Function\n    },\n    direction: {\n      type: String\n    },\n    // MISC\n    tabindex: Number,\n    autofocus: Boolean,\n    notFoundContent: PropTypes.any,\n    placeholder: PropTypes.any,\n    onClear: Function,\n    choiceTransitionName: String,\n    // >>> Mode\n    mode: String,\n    // >>> Status\n    disabled: {\n      type: Boolean,\n      default: undefined\n    },\n    loading: {\n      type: Boolean,\n      default: undefined\n    },\n    // >>> Open\n    open: {\n      type: Boolean,\n      default: undefined\n    },\n    defaultOpen: {\n      type: Boolean,\n      default: undefined\n    },\n    onDropdownVisibleChange: {\n      type: Function\n    },\n    // >>> Customize Input\n    /** @private Internal usage. Do not use in your production. */\n    getInputElement: {\n      type: Function\n    },\n    /** @private Internal usage. Do not use in your production. */\n    getRawInputElement: {\n      type: Function\n    },\n    // >>> Selector\n    maxTagTextLength: Number,\n    maxTagCount: {\n      type: [String, Number]\n    },\n    maxTagPlaceholder: PropTypes.any,\n    // >>> Search\n    tokenSeparators: {\n      type: Array\n    },\n    // >>> Icons\n    allowClear: {\n      type: Boolean,\n      default: undefined\n    },\n    showArrow: {\n      type: Boolean,\n      default: undefined\n    },\n    inputIcon: PropTypes.any,\n    /** Clear all icon */\n    clearIcon: PropTypes.any,\n    /** Selector remove icon */\n    removeIcon: PropTypes.any,\n    // >>> Dropdown\n    animation: String,\n    transitionName: String,\n    dropdownStyle: {\n      type: Object\n    },\n    dropdownClassName: String,\n    dropdownMatchSelectWidth: {\n      type: [Boolean, Number],\n      default: undefined\n    },\n    dropdownRender: {\n      type: Function\n    },\n    dropdownAlign: Object,\n    placement: {\n      type: String\n    },\n    getPopupContainer: {\n      type: Function\n    },\n    // >>> Focus\n    showAction: {\n      type: Array\n    },\n    onBlur: {\n      type: Function\n    },\n    onFocus: {\n      type: Function\n    },\n    // >>> Rest Events\n    onKeyup: Function,\n    onKeydown: Function,\n    onMousedown: Function,\n    onPopupScroll: Function,\n    onInputKeyDown: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onClick: Function\n  };\n};\nconst baseSelectProps = () => {\n  return _extends(_extends({}, baseSelectPrivateProps()), baseSelectPropsWithoutPrivate());\n};\nexport function isMultiple(mode) {\n  return mode === 'tags' || mode === 'multiple';\n}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'BaseSelect',\n  inheritAttrs: false,\n  props: initDefaultProps(baseSelectProps(), {\n    showAction: [],\n    notFoundContent: 'Not Found'\n  }),\n  setup(props, _ref) {\n    let {\n      attrs,\n      expose,\n      slots\n    } = _ref;\n    const multiple = computed(() => isMultiple(props.mode));\n    const mergedShowSearch = computed(() => props.showSearch !== undefined ? props.showSearch : multiple.value || props.mode === 'combobox');\n    const mobile = shallowRef(false);\n    onMounted(() => {\n      mobile.value = isMobile();\n    });\n    const legacyTreeSelectContext = useInjectLegacySelectContext();\n    // ============================== Refs ==============================\n    const containerRef = shallowRef(null);\n    const selectorDomRef = createRef();\n    const triggerRef = shallowRef(null);\n    const selectorRef = shallowRef(null);\n    const listRef = shallowRef(null);\n    /** Used for component focused management */\n    const [mockFocused, setMockFocused, cancelSetMockFocused] = useDelayReset();\n    const focus = () => {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    const blur = () => {\n      var _a;\n      (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n    };\n    expose({\n      focus,\n      blur,\n      scrollTo: arg => {\n        var _a;\n        return (_a = listRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(arg);\n      }\n    });\n    const mergedSearchValue = computed(() => {\n      var _a;\n      if (props.mode !== 'combobox') {\n        return props.searchValue;\n      }\n      const val = (_a = props.displayValues[0]) === null || _a === void 0 ? void 0 : _a.value;\n      return typeof val === 'string' || typeof val === 'number' ? String(val) : '';\n    });\n    // ============================== Open ==============================\n    const initOpen = props.open !== undefined ? props.open : props.defaultOpen;\n    const innerOpen = shallowRef(initOpen);\n    const mergedOpen = shallowRef(initOpen);\n    const setInnerOpen = val => {\n      innerOpen.value = props.open !== undefined ? props.open : val;\n      mergedOpen.value = innerOpen.value;\n    };\n    watch(() => props.open, () => {\n      setInnerOpen(props.open);\n    });\n    // Not trigger `open` in `combobox` when `notFoundContent` is empty\n    const emptyListContent = computed(() => !props.notFoundContent && props.emptyOptions);\n    watchEffect(() => {\n      mergedOpen.value = innerOpen.value;\n      if (props.disabled || emptyListContent.value && mergedOpen.value && props.mode === 'combobox') {\n        mergedOpen.value = false;\n      }\n    });\n    const triggerOpen = computed(() => emptyListContent.value ? false : mergedOpen.value);\n    const onToggleOpen = newOpen => {\n      const nextOpen = newOpen !== undefined ? newOpen : !mergedOpen.value;\n      if (innerOpen.value !== nextOpen && !props.disabled) {\n        setInnerOpen(nextOpen);\n        if (props.onDropdownVisibleChange) {\n          props.onDropdownVisibleChange(nextOpen);\n        }\n      }\n    };\n    const tokenWithEnter = computed(() => (props.tokenSeparators || []).some(tokenSeparator => ['\\n', '\\r\\n'].includes(tokenSeparator)));\n    const onInternalSearch = (searchText, fromTyping, isCompositing) => {\n      var _a, _b;\n      let ret = true;\n      let newSearchText = searchText;\n      (_a = props.onActiveValueChange) === null || _a === void 0 ? void 0 : _a.call(props, null);\n      // Check if match the `tokenSeparators`\n      const patchLabels = isCompositing ? null : getSeparatedContent(searchText, props.tokenSeparators);\n      // Ignore combobox since it's not split-able\n      if (props.mode !== 'combobox' && patchLabels) {\n        newSearchText = '';\n        (_b = props.onSearchSplit) === null || _b === void 0 ? void 0 : _b.call(props, patchLabels);\n        // Should close when paste finish\n        onToggleOpen(false);\n        // Tell Selector that break next actions\n        ret = false;\n      }\n      if (props.onSearch && mergedSearchValue.value !== newSearchText) {\n        props.onSearch(newSearchText, {\n          source: fromTyping ? 'typing' : 'effect'\n        });\n      }\n      return ret;\n    };\n    // Only triggered when menu is closed & mode is tags\n    // If menu is open, OptionList will take charge\n    // If mode isn't tags, press enter is not meaningful when you can't see any option\n    const onInternalSearchSubmit = searchText => {\n      var _a;\n      // prevent empty tags from appearing when you click the Enter button\n      if (!searchText || !searchText.trim()) {\n        return;\n      }\n      (_a = props.onSearch) === null || _a === void 0 ? void 0 : _a.call(props, searchText, {\n        source: 'submit'\n      });\n    };\n    // Close will clean up single mode search text\n    watch(mergedOpen, () => {\n      if (!mergedOpen.value && !multiple.value && props.mode !== 'combobox') {\n        onInternalSearch('', false, false);\n      }\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    // ============================ Disabled ============================\n    // Close dropdown & remove focus state when disabled change\n    watch(() => props.disabled, () => {\n      if (innerOpen.value && !!props.disabled) {\n        setInnerOpen(false);\n      }\n    }, {\n      immediate: true\n    });\n    // ============================ Keyboard ============================\n    /**\n     * We record input value here to check if can press to clean up by backspace\n     * - null: Key is not down, this is reset by key up\n     * - true: Search text is empty when first time backspace down\n     * - false: Search text is not empty when first time backspace down\n     */\n    const [getClearLock, setClearLock] = useLock();\n    // KeyDown\n    const onInternalKeyDown = function (event) {\n      var _a;\n      const clearLock = getClearLock();\n      const {\n        which\n      } = event;\n      if (which === KeyCode.ENTER) {\n        // Do not submit form when type in the input\n        if (props.mode !== 'combobox') {\n          event.preventDefault();\n        }\n        // We only manage open state here, close logic should handle by list component\n        if (!mergedOpen.value) {\n          onToggleOpen(true);\n        }\n      }\n      setClearLock(!!mergedSearchValue.value);\n      // Remove value by `backspace`\n      if (which === KeyCode.BACKSPACE && !clearLock && multiple.value && !mergedSearchValue.value && props.displayValues.length) {\n        const cloneDisplayValues = [...props.displayValues];\n        let removedDisplayValue = null;\n        for (let i = cloneDisplayValues.length - 1; i >= 0; i -= 1) {\n          const current = cloneDisplayValues[i];\n          if (!current.disabled) {\n            cloneDisplayValues.splice(i, 1);\n            removedDisplayValue = current;\n            break;\n          }\n        }\n        if (removedDisplayValue) {\n          props.onDisplayValuesChange(cloneDisplayValues, {\n            type: 'remove',\n            values: [removedDisplayValue]\n          });\n        }\n      }\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      if (mergedOpen.value && listRef.value) {\n        listRef.value.onKeydown(event, ...rest);\n      }\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, event, ...rest);\n    };\n    // KeyUp\n    const onInternalKeyUp = function (event) {\n      for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        rest[_key2 - 1] = arguments[_key2];\n      }\n      if (mergedOpen.value && listRef.value) {\n        listRef.value.onKeyup(event, ...rest);\n      }\n      if (props.onKeyup) {\n        props.onKeyup(event, ...rest);\n      }\n    };\n    // ============================ Selector ============================\n    const onSelectorRemove = val => {\n      const newValues = props.displayValues.filter(i => i !== val);\n      props.onDisplayValuesChange(newValues, {\n        type: 'remove',\n        values: [val]\n      });\n    };\n    // ========================== Focus / Blur ==========================\n    /** Record real focus status */\n    const focusRef = shallowRef(false);\n    const onContainerFocus = function () {\n      setMockFocused(true);\n      if (!props.disabled) {\n        if (props.onFocus && !focusRef.value) {\n          props.onFocus(...arguments);\n        }\n        // `showAction` should handle `focus` if set\n        if (props.showAction && props.showAction.includes('focus')) {\n          onToggleOpen(true);\n        }\n      }\n      focusRef.value = true;\n    };\n    const onContainerBlur = function () {\n      setMockFocused(false, () => {\n        focusRef.value = false;\n        onToggleOpen(false);\n      });\n      if (props.disabled) {\n        return;\n      }\n      const searchVal = mergedSearchValue.value;\n      if (searchVal) {\n        // `tags` mode should move `searchValue` into values\n        if (props.mode === 'tags') {\n          props.onSearch(searchVal, {\n            source: 'submit'\n          });\n        } else if (props.mode === 'multiple') {\n          // `multiple` mode only clean the search value but not trigger event\n          props.onSearch('', {\n            source: 'blur'\n          });\n        }\n      }\n      if (props.onBlur) {\n        props.onBlur(...arguments);\n      }\n    };\n    provide('VCSelectContainerEvent', {\n      focus: onContainerFocus,\n      blur: onContainerBlur\n    });\n    // Give focus back of Select\n    const activeTimeoutIds = [];\n    onMounted(() => {\n      activeTimeoutIds.forEach(timeoutId => clearTimeout(timeoutId));\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    onBeforeUnmount(() => {\n      activeTimeoutIds.forEach(timeoutId => clearTimeout(timeoutId));\n      activeTimeoutIds.splice(0, activeTimeoutIds.length);\n    });\n    const onInternalMouseDown = function (event) {\n      var _a, _b;\n      const {\n        target\n      } = event;\n      const popupElement = (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.getPopupElement();\n      // We should give focus back to selector if clicked item is not focusable\n      if (popupElement && popupElement.contains(target)) {\n        const timeoutId = setTimeout(() => {\n          var _a;\n          const index = activeTimeoutIds.indexOf(timeoutId);\n          if (index !== -1) {\n            activeTimeoutIds.splice(index, 1);\n          }\n          cancelSetMockFocused();\n          if (!mobile.value && !popupElement.contains(document.activeElement)) {\n            (_a = selectorRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n        });\n        activeTimeoutIds.push(timeoutId);\n      }\n      for (var _len3 = arguments.length, restArgs = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n        restArgs[_key3 - 1] = arguments[_key3];\n      }\n      (_b = props.onMousedown) === null || _b === void 0 ? void 0 : _b.call(props, event, ...restArgs);\n    };\n    // ============================= Dropdown ==============================\n    const containerWidth = shallowRef(null);\n    const instance = getCurrentInstance();\n    const onPopupMouseEnter = () => {\n      // We need force update here since popup dom is render async\n      instance.update();\n    };\n    onMounted(() => {\n      watch(triggerOpen, () => {\n        var _a;\n        if (triggerOpen.value) {\n          const newWidth = Math.ceil((_a = containerRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth);\n          if (containerWidth.value !== newWidth && !Number.isNaN(newWidth)) {\n            containerWidth.value = newWidth;\n          }\n        }\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    // Close when click on non-select element\n    useSelectTriggerControl([containerRef, triggerRef], triggerOpen, onToggleOpen);\n    useProvideBaseSelectProps(toReactive(_extends(_extends({}, toRefs(props)), {\n      open: mergedOpen,\n      triggerOpen,\n      showSearch: mergedShowSearch,\n      multiple,\n      toggleOpen: onToggleOpen\n    })));\n    return () => {\n      const _a = _extends(_extends({}, props), attrs),\n        {\n          prefixCls,\n          id,\n          open,\n          defaultOpen,\n          mode,\n          // Search related\n          showSearch,\n          searchValue,\n          onSearch,\n          // Icons\n          allowClear,\n          clearIcon,\n          showArrow,\n          inputIcon,\n          // Others\n          disabled,\n          loading,\n          getInputElement,\n          getPopupContainer,\n          placement,\n          // Dropdown\n          animation,\n          transitionName,\n          dropdownStyle,\n          dropdownClassName,\n          dropdownMatchSelectWidth,\n          dropdownRender,\n          dropdownAlign,\n          showAction,\n          direction,\n          // Tags\n          tokenSeparators,\n          tagRender,\n          optionLabelRender,\n          // Events\n          onPopupScroll,\n          onDropdownVisibleChange,\n          onFocus,\n          onBlur,\n          onKeyup,\n          onKeydown,\n          onMousedown,\n          onClear,\n          omitDomProps,\n          getRawInputElement,\n          displayValues,\n          onDisplayValuesChange,\n          emptyOptions,\n          activeDescendantId,\n          activeValue,\n          OptionList\n        } = _a,\n        restProps = __rest(_a, [\"prefixCls\", \"id\", \"open\", \"defaultOpen\", \"mode\", \"showSearch\", \"searchValue\", \"onSearch\", \"allowClear\", \"clearIcon\", \"showArrow\", \"inputIcon\", \"disabled\", \"loading\", \"getInputElement\", \"getPopupContainer\", \"placement\", \"animation\", \"transitionName\", \"dropdownStyle\", \"dropdownClassName\", \"dropdownMatchSelectWidth\", \"dropdownRender\", \"dropdownAlign\", \"showAction\", \"direction\", \"tokenSeparators\", \"tagRender\", \"optionLabelRender\", \"onPopupScroll\", \"onDropdownVisibleChange\", \"onFocus\", \"onBlur\", \"onKeyup\", \"onKeydown\", \"onMousedown\", \"onClear\", \"omitDomProps\", \"getRawInputElement\", \"displayValues\", \"onDisplayValuesChange\", \"emptyOptions\", \"activeDescendantId\", \"activeValue\", \"OptionList\"]);\n      // ============================= Input ==============================\n      // Only works in `combobox`\n      const customizeInputElement = mode === 'combobox' && getInputElement && getInputElement() || null;\n      // Used for customize replacement for `vc-cascader`\n      const customizeRawInputElement = typeof getRawInputElement === 'function' && getRawInputElement();\n      const domProps = _extends({}, restProps);\n      // Used for raw custom input trigger\n      let onTriggerVisibleChange;\n      if (customizeRawInputElement) {\n        onTriggerVisibleChange = newOpen => {\n          onToggleOpen(newOpen);\n        };\n      }\n      DEFAULT_OMIT_PROPS.forEach(propName => {\n        delete domProps[propName];\n      });\n      omitDomProps === null || omitDomProps === void 0 ? void 0 : omitDomProps.forEach(propName => {\n        delete domProps[propName];\n      });\n      // ============================= Arrow ==============================\n      const mergedShowArrow = showArrow !== undefined ? showArrow : loading || !multiple.value && mode !== 'combobox';\n      let arrowNode;\n      if (mergedShowArrow) {\n        arrowNode = _createVNode(TransBtn, {\n          \"class\": classNames(`${prefixCls}-arrow`, {\n            [`${prefixCls}-arrow-loading`]: loading\n          }),\n          \"customizeIcon\": inputIcon,\n          \"customizeIconProps\": {\n            loading,\n            searchValue: mergedSearchValue.value,\n            open: mergedOpen.value,\n            focused: mockFocused.value,\n            showSearch: mergedShowSearch.value\n          }\n        }, null);\n      }\n      // ============================= Clear ==============================\n      let clearNode;\n      const onClearMouseDown = () => {\n        onClear === null || onClear === void 0 ? void 0 : onClear();\n        onDisplayValuesChange([], {\n          type: 'clear',\n          values: displayValues\n        });\n        onInternalSearch('', false, false);\n      };\n      if (!disabled && allowClear && (displayValues.length || mergedSearchValue.value)) {\n        clearNode = _createVNode(TransBtn, {\n          \"class\": `${prefixCls}-clear`,\n          \"onMousedown\": onClearMouseDown,\n          \"customizeIcon\": clearIcon\n        }, {\n          default: () => [_createTextVNode(\"\\xD7\")]\n        });\n      }\n      // =========================== OptionList ===========================\n      const optionList = _createVNode(OptionList, {\n        \"ref\": listRef\n      }, _extends(_extends({}, legacyTreeSelectContext.customSlots), {\n        option: slots.option\n      }));\n      // ============================= Select =============================\n      const mergedClassName = classNames(prefixCls, attrs.class, {\n        [`${prefixCls}-focused`]: mockFocused.value,\n        [`${prefixCls}-multiple`]: multiple.value,\n        [`${prefixCls}-single`]: !multiple.value,\n        [`${prefixCls}-allow-clear`]: allowClear,\n        [`${prefixCls}-show-arrow`]: mergedShowArrow,\n        [`${prefixCls}-disabled`]: disabled,\n        [`${prefixCls}-loading`]: loading,\n        [`${prefixCls}-open`]: mergedOpen.value,\n        [`${prefixCls}-customize-input`]: customizeInputElement,\n        [`${prefixCls}-show-search`]: mergedShowSearch.value\n      });\n      // >>> Selector\n      const selectorNode = _createVNode(SelectTrigger, {\n        \"ref\": triggerRef,\n        \"disabled\": disabled,\n        \"prefixCls\": prefixCls,\n        \"visible\": triggerOpen.value,\n        \"popupElement\": optionList,\n        \"containerWidth\": containerWidth.value,\n        \"animation\": animation,\n        \"transitionName\": transitionName,\n        \"dropdownStyle\": dropdownStyle,\n        \"dropdownClassName\": dropdownClassName,\n        \"direction\": direction,\n        \"dropdownMatchSelectWidth\": dropdownMatchSelectWidth,\n        \"dropdownRender\": dropdownRender,\n        \"dropdownAlign\": dropdownAlign,\n        \"placement\": placement,\n        \"getPopupContainer\": getPopupContainer,\n        \"empty\": emptyOptions,\n        \"getTriggerDOMNode\": () => selectorDomRef.current,\n        \"onPopupVisibleChange\": onTriggerVisibleChange,\n        \"onPopupMouseEnter\": onPopupMouseEnter\n      }, {\n        default: () => {\n          return customizeRawInputElement ? isValidElement(customizeRawInputElement) && cloneElement(customizeRawInputElement, {\n            ref: selectorDomRef\n          }, false, true) : _createVNode(Selector, _objectSpread(_objectSpread({}, props), {}, {\n            \"domRef\": selectorDomRef,\n            \"prefixCls\": prefixCls,\n            \"inputElement\": customizeInputElement,\n            \"ref\": selectorRef,\n            \"id\": id,\n            \"showSearch\": mergedShowSearch.value,\n            \"mode\": mode,\n            \"activeDescendantId\": activeDescendantId,\n            \"tagRender\": tagRender,\n            \"optionLabelRender\": optionLabelRender,\n            \"values\": displayValues,\n            \"open\": mergedOpen.value,\n            \"onToggleOpen\": onToggleOpen,\n            \"activeValue\": activeValue,\n            \"searchValue\": mergedSearchValue.value,\n            \"onSearch\": onInternalSearch,\n            \"onSearchSubmit\": onInternalSearchSubmit,\n            \"onRemove\": onSelectorRemove,\n            \"tokenWithEnter\": tokenWithEnter.value\n          }), null);\n        }\n      });\n      // >>> Render\n      let renderNode;\n      // Render raw\n      if (customizeRawInputElement) {\n        renderNode = selectorNode;\n      } else {\n        renderNode = _createVNode(\"div\", _objectSpread(_objectSpread({}, domProps), {}, {\n          \"class\": mergedClassName,\n          \"ref\": containerRef,\n          \"onMousedown\": onInternalMouseDown,\n          \"onKeydown\": onInternalKeyDown,\n          \"onKeyup\": onInternalKeyUp\n        }), [mockFocused.value && !mergedOpen.value && _createVNode(\"span\", {\n          \"style\": {\n            width: 0,\n            height: 0,\n            position: 'absolute',\n            overflow: 'hidden',\n            opacity: 0\n          },\n          \"aria-live\": \"polite\"\n        }, [`${displayValues.map(_ref2 => {\n          let {\n            label,\n            value\n          } = _ref2;\n          return ['number', 'string'].includes(typeof label) ? label : value;\n        }).join(', ')}`]), selectorNode, arrowNode, clearNode]);\n      }\n      return renderNode;\n    };\n  }\n});"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,QAAQ,MAAM,oCAAoC;AACzD,SAASC,gBAAgB,IAAIC,iBAAiB,EAAEC,eAAe,IAAIC,gBAAgB,EAAEC,WAAW,IAAIC,YAAY,QAAQ,KAAK;AAC7H,IAAIC,MAAM,GAAG,IAAI,IAAI,IAAI,CAACA,MAAM,IAAI,UAAUC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,CAAC,IAAIH,CAAC,EAAE,IAAII,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACP,CAAC,EAAEG,CAAC,CAAC,IAAIF,CAAC,CAACO,OAAO,CAACL,CAAC,CAAC,GAAG,CAAC,EAAED,CAAC,CAACC,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;EAChG,IAAIH,CAAC,IAAI,IAAI,IAAI,OAAOI,MAAM,CAACK,qBAAqB,KAAK,UAAU,EAAE,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEP,CAAC,GAAGC,MAAM,CAACK,qBAAqB,CAACT,CAAC,CAAC,EAAEU,CAAC,GAAGP,CAAC,CAACQ,MAAM,EAAED,CAAC,EAAE,EAAE;IAC3I,IAAIT,CAAC,CAACO,OAAO,CAACL,CAAC,CAACO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIN,MAAM,CAACC,SAAS,CAACO,oBAAoB,CAACL,IAAI,CAACP,CAAC,EAAEG,CAAC,CAACO,CAAC,CAAC,CAAC,EAAER,CAAC,CAACC,CAAC,CAACO,CAAC,CAAC,CAAC,GAAGV,CAAC,CAACG,CAAC,CAACO,CAAC,CAAC,CAAC;EACnG;EACA,OAAOR,CAAC;AACV,CAAC;AACD,SAASW,mBAAmB,QAAQ,mBAAmB;AACvD,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,uBAAuB,MAAM,iCAAiC;AACrE,OAAOC,aAAa,MAAM,uBAAuB;AACjD,OAAOC,QAAQ,MAAM,YAAY;AACjC,OAAOC,OAAO,MAAM,iBAAiB;AACrC,SAASC,yBAAyB,QAAQ,sBAAsB;AAChE,SAASC,QAAQ,EAAEC,eAAe,EAAEC,kBAAkB,EAAEC,eAAe,EAAEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,EAAEC,MAAM,EAAEC,KAAK,EAAEC,WAAW,QAAQ,KAAK;AAChJ,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,gBAAgB,EAAEC,cAAc,QAAQ,qBAAqB;AACtE,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAOC,OAAO,MAAM,kBAAkB;AACtC,SAASC,UAAU,QAAQ,qBAAqB;AAChD,OAAOC,UAAU,MAAM,qBAAqB;AAC5C,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,OAAOC,4BAA4B,MAAM,iCAAiC;AAC1E,SAASC,YAAY,QAAQ,gBAAgB;AAC7C,IAAMC,kBAAkB,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,aAAa,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,sBAAsB,EAAE,gBAAgB,EAAE,eAAe,EAAE,UAAU,EAAE,YAAY,EAAE,iBAAiB,CAAC;AAC1P,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA,EAAS;EACnC,OAAO;IACLC,SAAS,EAAEC,MAAM;IACjBC,EAAE,EAAED,MAAM;IACVE,YAAY,EAAEC,KAAK;IACnB;IACAC,aAAa,EAAED,KAAK;IACpBE,qBAAqB,EAAEC,QAAQ;IAC/B;IACA;IACAC,WAAW,EAAEP,MAAM;IACnB;IACAQ,kBAAkB,EAAER,MAAM;IAC1BS,mBAAmB,EAAEH,QAAQ;IAC7B;IACAI,WAAW,EAAEV,MAAM;IACnB;IACAW,QAAQ,EAAEL,QAAQ;IAClB;IACAM,aAAa,EAAEN,QAAQ;IACvBO,SAAS,EAAEC,MAAM;IACjBC,UAAU,EAAE5B,SAAS,CAAC6B,GAAG;IACzB;IACAC,YAAY,EAAEC;EAChB,CAAC;AACH,CAAC;AACD,OAAO,IAAMC,6BAA6B,GAAG,SAAhCA,6BAA6BA,CAAA,EAAS;EACjD,OAAO;IACLC,UAAU,EAAE;MACVC,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDC,SAAS,EAAE;MACTF,IAAI,EAAEf;IACR,CAAC;IACDkB,iBAAiB,EAAE;MACjBH,IAAI,EAAEf;IACR,CAAC;IACDmB,SAAS,EAAE;MACTJ,IAAI,EAAErB;IACR,CAAC;IACD;IACA0B,QAAQ,EAAEZ,MAAM;IAChBa,SAAS,EAAET,OAAO;IAClBU,eAAe,EAAEzC,SAAS,CAAC6B,GAAG;IAC9Ba,WAAW,EAAE1C,SAAS,CAAC6B,GAAG;IAC1Bc,OAAO,EAAExB,QAAQ;IACjByB,oBAAoB,EAAE/B,MAAM;IAC5B;IACAgC,IAAI,EAAEhC,MAAM;IACZ;IACAiC,QAAQ,EAAE;MACRZ,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDY,OAAO,EAAE;MACPb,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACD;IACAa,IAAI,EAAE;MACJd,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDc,WAAW,EAAE;MACXf,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDe,uBAAuB,EAAE;MACvBhB,IAAI,EAAEf;IACR,CAAC;IACD;IACA;IACAgC,eAAe,EAAE;MACfjB,IAAI,EAAEf;IACR,CAAC;IACD;IACAiC,kBAAkB,EAAE;MAClBlB,IAAI,EAAEf;IACR,CAAC;IACD;IACAkC,gBAAgB,EAAE1B,MAAM;IACxB2B,WAAW,EAAE;MACXpB,IAAI,EAAE,CAACrB,MAAM,EAAEc,MAAM;IACvB,CAAC;IACD4B,iBAAiB,EAAEvD,SAAS,CAAC6B,GAAG;IAChC;IACA2B,eAAe,EAAE;MACftB,IAAI,EAAElB;IACR,CAAC;IACD;IACAyC,UAAU,EAAE;MACVvB,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDuB,SAAS,EAAE;MACTxB,IAAI,EAAEH,OAAO;MACb,WAASI;IACX,CAAC;IACDwB,SAAS,EAAE3D,SAAS,CAAC6B,GAAG;IACxB;IACA+B,SAAS,EAAE5D,SAAS,CAAC6B,GAAG;IACxB;IACAgC,UAAU,EAAE7D,SAAS,CAAC6B,GAAG;IACzB;IACAiC,SAAS,EAAEjD,MAAM;IACjBkD,cAAc,EAAElD,MAAM;IACtBmD,aAAa,EAAE;MACb9B,IAAI,EAAE7D;IACR,CAAC;IACD4F,iBAAiB,EAAEpD,MAAM;IACzBqD,wBAAwB,EAAE;MACxBhC,IAAI,EAAE,CAACH,OAAO,EAAEJ,MAAM,CAAC;MACvB,WAASQ;IACX,CAAC;IACDgC,cAAc,EAAE;MACdjC,IAAI,EAAEf;IACR,CAAC;IACDiD,aAAa,EAAE/F,MAAM;IACrBgG,SAAS,EAAE;MACTnC,IAAI,EAAErB;IACR,CAAC;IACDyD,iBAAiB,EAAE;MACjBpC,IAAI,EAAEf;IACR,CAAC;IACD;IACAoD,UAAU,EAAE;MACVrC,IAAI,EAAElB;IACR,CAAC;IACDwD,MAAM,EAAE;MACNtC,IAAI,EAAEf;IACR,CAAC;IACDsD,OAAO,EAAE;MACPvC,IAAI,EAAEf;IACR,CAAC;IACD;IACAuD,OAAO,EAAEvD,QAAQ;IACjBwD,SAAS,EAAExD,QAAQ;IACnByD,WAAW,EAAEzD,QAAQ;IACrB0D,aAAa,EAAE1D,QAAQ;IACvB2D,cAAc,EAAE3D,QAAQ;IACxB4D,YAAY,EAAE5D,QAAQ;IACtB6D,YAAY,EAAE7D,QAAQ;IACtB8D,OAAO,EAAE9D;EACX,CAAC;AACH,CAAC;AACD,IAAM+D,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;EAC5B,OAAOzH,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEkD,sBAAsB,CAAC,CAAC,CAAC,EAAEqB,6BAA6B,CAAC,CAAC,CAAC;AAC1F,CAAC;AACD,OAAO,SAASmD,UAAUA,CAACtC,IAAI,EAAE;EAC/B,OAAOA,IAAI,KAAK,MAAM,IAAIA,IAAI,KAAK,UAAU;AAC/C;AACA,eAAetD,eAAe,CAAC;EAC7B6F,YAAY,EAAE;IACZC,IAAI,EAAE;EACR,CAAC;EACDC,IAAI,EAAE,YAAY;EAClBC,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAEvF,gBAAgB,CAACiF,eAAe,CAAC,CAAC,EAAE;IACzCX,UAAU,EAAE,EAAE;IACd9B,eAAe,EAAE;EACnB,CAAC,CAAC;EACFgD,KAAK,WAAAA,MAACD,KAAK,EAAEE,IAAI,EAAE;IACjB,IACEC,KAAK,GAGHD,IAAI,CAHNC,KAAK;MACLC,MAAM,GAEJF,IAAI,CAFNE,MAAM;MACNC,KAAK,GACHH,IAAI,CADNG,KAAK;IAEP,IAAMC,QAAQ,GAAGxG,QAAQ,CAAC;MAAA,OAAM6F,UAAU,CAACK,KAAK,CAAC3C,IAAI,CAAC;IAAA,EAAC;IACvD,IAAMkD,gBAAgB,GAAGzG,QAAQ,CAAC;MAAA,OAAMkG,KAAK,CAACvD,UAAU,KAAKE,SAAS,GAAGqD,KAAK,CAACvD,UAAU,GAAG6D,QAAQ,CAACE,KAAK,IAAIR,KAAK,CAAC3C,IAAI,KAAK,UAAU;IAAA,EAAC;IACxI,IAAMoD,MAAM,GAAGrG,UAAU,CAAC,KAAK,CAAC;IAChCF,SAAS,CAAC,YAAM;MACduG,MAAM,CAACD,KAAK,GAAG7F,QAAQ,CAAC,CAAC;IAC3B,CAAC,CAAC;IACF,IAAM+F,uBAAuB,GAAG1F,4BAA4B,CAAC,CAAC;IAC9D;IACA,IAAM2F,YAAY,GAAGvG,UAAU,CAAC,IAAI,CAAC;IACrC,IAAMwG,cAAc,GAAG7F,SAAS,CAAC,CAAC;IAClC,IAAM8F,UAAU,GAAGzG,UAAU,CAAC,IAAI,CAAC;IACnC,IAAM0G,WAAW,GAAG1G,UAAU,CAAC,IAAI,CAAC;IACpC,IAAM2G,OAAO,GAAG3G,UAAU,CAAC,IAAI,CAAC;IAChC;IACA,IAAA4G,cAAA,GAA4DtH,aAAa,CAAC,CAAC;MAAAuH,eAAA,GAAAC,cAAA,CAAAF,cAAA;MAApEG,WAAW,GAAAF,eAAA;MAAEG,cAAc,GAAAH,eAAA;MAAEI,oBAAoB,GAAAJ,eAAA;IACxD,IAAMK,KAAK,GAAG,SAARA,KAAKA,CAAA,EAAS;MAClB,IAAIC,EAAE;MACN,CAACA,EAAE,GAAGT,WAAW,CAACN,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,KAAK,CAAC,CAAC;IAC1E,CAAC;IACD,IAAME,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAS;MACjB,IAAID,EAAE;MACN,CAACA,EAAE,GAAGT,WAAW,CAACN,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACC,IAAI,CAAC,CAAC;IACzE,CAAC;IACDpB,MAAM,CAAC;MACLkB,KAAK,EAALA,KAAK;MACLE,IAAI,EAAJA,IAAI;MACJC,QAAQ,EAAE,SAAAA,SAAAC,GAAG,EAAI;QACf,IAAIH,EAAE;QACN,OAAO,CAACA,EAAE,GAAGR,OAAO,CAACP,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,QAAQ,CAACC,GAAG,CAAC;MACnF;IACF,CAAC,CAAC;IACF,IAAMC,iBAAiB,GAAG7H,QAAQ,CAAC,YAAM;MACvC,IAAIyH,EAAE;MACN,IAAIvB,KAAK,CAAC3C,IAAI,KAAK,UAAU,EAAE;QAC7B,OAAO2C,KAAK,CAACjE,WAAW;MAC1B;MACA,IAAM6F,GAAG,GAAG,CAACL,EAAE,GAAGvB,KAAK,CAACvE,aAAa,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI8F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACf,KAAK;MACvF,OAAO,OAAOoB,GAAG,KAAK,QAAQ,IAAI,OAAOA,GAAG,KAAK,QAAQ,GAAGvG,MAAM,CAACuG,GAAG,CAAC,GAAG,EAAE;IAC9E,CAAC,CAAC;IACF;IACA,IAAMC,QAAQ,GAAG7B,KAAK,CAACxC,IAAI,KAAKb,SAAS,GAAGqD,KAAK,CAACxC,IAAI,GAAGwC,KAAK,CAACvC,WAAW;IAC1E,IAAMqE,SAAS,GAAG1H,UAAU,CAACyH,QAAQ,CAAC;IACtC,IAAME,UAAU,GAAG3H,UAAU,CAACyH,QAAQ,CAAC;IACvC,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAGJ,GAAG,EAAI;MAC1BE,SAAS,CAACtB,KAAK,GAAGR,KAAK,CAACxC,IAAI,KAAKb,SAAS,GAAGqD,KAAK,CAACxC,IAAI,GAAGoE,GAAG;MAC7DG,UAAU,CAACvB,KAAK,GAAGsB,SAAS,CAACtB,KAAK;IACpC,CAAC;IACDlG,KAAK,CAAC;MAAA,OAAM0F,KAAK,CAACxC,IAAI;IAAA,GAAE,YAAM;MAC5BwE,YAAY,CAAChC,KAAK,CAACxC,IAAI,CAAC;IAC1B,CAAC,CAAC;IACF;IACA,IAAMyE,gBAAgB,GAAGnI,QAAQ,CAAC;MAAA,OAAM,CAACkG,KAAK,CAAC/C,eAAe,IAAI+C,KAAK,CAAC1D,YAAY;IAAA,EAAC;IACrF/B,WAAW,CAAC,YAAM;MAChBwH,UAAU,CAACvB,KAAK,GAAGsB,SAAS,CAACtB,KAAK;MAClC,IAAIR,KAAK,CAAC1C,QAAQ,IAAI2E,gBAAgB,CAACzB,KAAK,IAAIuB,UAAU,CAACvB,KAAK,IAAIR,KAAK,CAAC3C,IAAI,KAAK,UAAU,EAAE;QAC7F0E,UAAU,CAACvB,KAAK,GAAG,KAAK;MAC1B;IACF,CAAC,CAAC;IACF,IAAM0B,WAAW,GAAGpI,QAAQ,CAAC;MAAA,OAAMmI,gBAAgB,CAACzB,KAAK,GAAG,KAAK,GAAGuB,UAAU,CAACvB,KAAK;IAAA,EAAC;IACrF,IAAM2B,YAAY,GAAG,SAAfA,YAAYA,CAAGC,OAAO,EAAI;MAC9B,IAAMC,QAAQ,GAAGD,OAAO,KAAKzF,SAAS,GAAGyF,OAAO,GAAG,CAACL,UAAU,CAACvB,KAAK;MACpE,IAAIsB,SAAS,CAACtB,KAAK,KAAK6B,QAAQ,IAAI,CAACrC,KAAK,CAAC1C,QAAQ,EAAE;QACnD0E,YAAY,CAACK,QAAQ,CAAC;QACtB,IAAIrC,KAAK,CAACtC,uBAAuB,EAAE;UACjCsC,KAAK,CAACtC,uBAAuB,CAAC2E,QAAQ,CAAC;QACzC;MACF;IACF,CAAC;IACD,IAAMC,cAAc,GAAGxI,QAAQ,CAAC;MAAA,OAAM,CAACkG,KAAK,CAAChC,eAAe,IAAI,EAAE,EAAEuE,IAAI,CAAC,UAAAC,cAAc;QAAA,OAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAACC,QAAQ,CAACD,cAAc,CAAC;MAAA,EAAC;IAAA,EAAC;IACpI,IAAME,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,UAAU,EAAEC,UAAU,EAAEC,aAAa,EAAK;MAClE,IAAItB,EAAE,EAAEuB,EAAE;MACV,IAAIC,GAAG,GAAG,IAAI;MACd,IAAIC,aAAa,GAAGL,UAAU;MAC9B,CAACpB,EAAE,GAAGvB,KAAK,CAAClE,mBAAmB,MAAM,IAAI,IAAIyF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvI,IAAI,CAACgH,KAAK,EAAE,IAAI,CAAC;MAC1F;MACA,IAAMiD,WAAW,GAAGJ,aAAa,GAAG,IAAI,GAAGvJ,mBAAmB,CAACqJ,UAAU,EAAE3C,KAAK,CAAChC,eAAe,CAAC;MACjG;MACA,IAAIgC,KAAK,CAAC3C,IAAI,KAAK,UAAU,IAAI4F,WAAW,EAAE;QAC5CD,aAAa,GAAG,EAAE;QAClB,CAACF,EAAE,GAAG9C,KAAK,CAAC/D,aAAa,MAAM,IAAI,IAAI6G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC9J,IAAI,CAACgH,KAAK,EAAEiD,WAAW,CAAC;QAC3F;QACAd,YAAY,CAAC,KAAK,CAAC;QACnB;QACAY,GAAG,GAAG,KAAK;MACb;MACA,IAAI/C,KAAK,CAAChE,QAAQ,IAAI2F,iBAAiB,CAACnB,KAAK,KAAKwC,aAAa,EAAE;QAC/DhD,KAAK,CAAChE,QAAQ,CAACgH,aAAa,EAAE;UAC5BE,MAAM,EAAEN,UAAU,GAAG,QAAQ,GAAG;QAClC,CAAC,CAAC;MACJ;MACA,OAAOG,GAAG;IACZ,CAAC;IACD;IACA;IACA;IACA,IAAMI,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAGR,UAAU,EAAI;MAC3C,IAAIpB,EAAE;MACN;MACA,IAAI,CAACoB,UAAU,IAAI,CAACA,UAAU,CAACS,IAAI,CAAC,CAAC,EAAE;QACrC;MACF;MACA,CAAC7B,EAAE,GAAGvB,KAAK,CAAChE,QAAQ,MAAM,IAAI,IAAIuF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACvI,IAAI,CAACgH,KAAK,EAAE2C,UAAU,EAAE;QACpFO,MAAM,EAAE;MACV,CAAC,CAAC;IACJ,CAAC;IACD;IACA5I,KAAK,CAACyH,UAAU,EAAE,YAAM;MACtB,IAAI,CAACA,UAAU,CAACvB,KAAK,IAAI,CAACF,QAAQ,CAACE,KAAK,IAAIR,KAAK,CAAC3C,IAAI,KAAK,UAAU,EAAE;QACrEqF,gBAAgB,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC;MACpC;IACF,CAAC,EAAE;MACDW,SAAS,EAAE,IAAI;MACfC,KAAK,EAAE;IACT,CAAC,CAAC;IACF;IACA;IACAhJ,KAAK,CAAC;MAAA,OAAM0F,KAAK,CAAC1C,QAAQ;IAAA,GAAE,YAAM;MAChC,IAAIwE,SAAS,CAACtB,KAAK,IAAI,CAAC,CAACR,KAAK,CAAC1C,QAAQ,EAAE;QACvC0E,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC,EAAE;MACDqB,SAAS,EAAE;IACb,CAAC,CAAC;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;IACI,IAAAE,QAAA,GAAqC3J,OAAO,CAAC,CAAC;MAAA4J,SAAA,GAAAtC,cAAA,CAAAqC,QAAA;MAAvCE,YAAY,GAAAD,SAAA;MAAEE,YAAY,GAAAF,SAAA;IACjC;IACA,IAAMG,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAaC,KAAK,EAAE;MAAA,IAAAC,GAAA;MACzC,IAAItC,EAAE;MACN,IAAMuC,SAAS,GAAGL,YAAY,CAAC,CAAC;MAChC,IACEM,KAAK,GACHH,KAAK,CADPG,KAAK;MAEP,IAAIA,KAAK,KAAKnJ,OAAO,CAACoJ,KAAK,EAAE;QAC3B;QACA,IAAIhE,KAAK,CAAC3C,IAAI,KAAK,UAAU,EAAE;UAC7BuG,KAAK,CAACK,cAAc,CAAC,CAAC;QACxB;QACA;QACA,IAAI,CAAClC,UAAU,CAACvB,KAAK,EAAE;UACrB2B,YAAY,CAAC,IAAI,CAAC;QACpB;MACF;MACAuB,YAAY,CAAC,CAAC,CAAC/B,iBAAiB,CAACnB,KAAK,CAAC;MACvC;MACA,IAAIuD,KAAK,KAAKnJ,OAAO,CAACsJ,SAAS,IAAI,CAACJ,SAAS,IAAIxD,QAAQ,CAACE,KAAK,IAAI,CAACmB,iBAAiB,CAACnB,KAAK,IAAIR,KAAK,CAACvE,aAAa,CAACrC,MAAM,EAAE;QACzH,IAAM+K,kBAAkB,GAAAC,kBAAA,CAAOpE,KAAK,CAACvE,aAAa,CAAC;QACnD,IAAI4I,mBAAmB,GAAG,IAAI;QAC9B,KAAK,IAAIlL,CAAC,GAAGgL,kBAAkB,CAAC/K,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;UAC1D,IAAMmL,OAAO,GAAGH,kBAAkB,CAAChL,CAAC,CAAC;UACrC,IAAI,CAACmL,OAAO,CAAChH,QAAQ,EAAE;YACrB6G,kBAAkB,CAACI,MAAM,CAACpL,CAAC,EAAE,CAAC,CAAC;YAC/BkL,mBAAmB,GAAGC,OAAO;YAC7B;UACF;QACF;QACA,IAAID,mBAAmB,EAAE;UACvBrE,KAAK,CAACtE,qBAAqB,CAACyI,kBAAkB,EAAE;YAC9CzH,IAAI,EAAE,QAAQ;YACd8H,MAAM,EAAE,CAACH,mBAAmB;UAC9B,CAAC,CAAC;QACJ;MACF;MACA,KAAK,IAAII,IAAI,GAAGC,SAAS,CAACtL,MAAM,EAAEuL,IAAI,GAAG,IAAInJ,KAAK,CAACiJ,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEG,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGH,IAAI,EAAEG,IAAI,EAAE,EAAE;QAC1GD,IAAI,CAACC,IAAI,GAAG,CAAC,CAAC,GAAGF,SAAS,CAACE,IAAI,CAAC;MAClC;MACA,IAAI7C,UAAU,CAACvB,KAAK,IAAIO,OAAO,CAACP,KAAK,EAAE;QAAA,IAAAqE,cAAA;QACrC,CAAAA,cAAA,GAAA9D,OAAO,CAACP,KAAK,EAACrB,SAAS,CAAA2F,KAAA,CAAAD,cAAA,GAACjB,KAAK,EAAAmB,MAAA,CAAKJ,IAAI,EAAC;MACzC;MACA,CAACpD,EAAE,GAAGvB,KAAK,CAACb,SAAS,MAAM,IAAI,IAAIoC,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAAAsC,GAAA,GAAAtC,EAAE,EAACvI,IAAI,CAAA8L,KAAA,CAAAjB,GAAA,GAAC7D,KAAK,EAAE4D,KAAK,EAAAmB,MAAA,CAAKJ,IAAI,EAAC;IAC5F,CAAC;IACD;IACA,IAAMK,eAAe,GAAG,SAAlBA,eAAeA,CAAapB,KAAK,EAAE;MACvC,KAAK,IAAIqB,KAAK,GAAGP,SAAS,CAACtL,MAAM,EAAEuL,IAAI,GAAG,IAAInJ,KAAK,CAACyJ,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;QACjHP,IAAI,CAACO,KAAK,GAAG,CAAC,CAAC,GAAGR,SAAS,CAACQ,KAAK,CAAC;MACpC;MACA,IAAInD,UAAU,CAACvB,KAAK,IAAIO,OAAO,CAACP,KAAK,EAAE;QAAA,IAAA2E,eAAA;QACrC,CAAAA,eAAA,GAAApE,OAAO,CAACP,KAAK,EAACtB,OAAO,CAAA4F,KAAA,CAAAK,eAAA,GAACvB,KAAK,EAAAmB,MAAA,CAAKJ,IAAI,EAAC;MACvC;MACA,IAAI3E,KAAK,CAACd,OAAO,EAAE;QACjBc,KAAK,CAACd,OAAO,CAAA4F,KAAA,CAAb9E,KAAK,GAAS4D,KAAK,EAAAmB,MAAA,CAAKJ,IAAI,EAAC;MAC/B;IACF,CAAC;IACD;IACA,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGxD,GAAG,EAAI;MAC9B,IAAMyD,SAAS,GAAGrF,KAAK,CAACvE,aAAa,CAAC6J,MAAM,CAAC,UAAAnM,CAAC;QAAA,OAAIA,CAAC,KAAKyI,GAAG;MAAA,EAAC;MAC5D5B,KAAK,CAACtE,qBAAqB,CAAC2J,SAAS,EAAE;QACrC3I,IAAI,EAAE,QAAQ;QACd8H,MAAM,EAAE,CAAC5C,GAAG;MACd,CAAC,CAAC;IACJ,CAAC;IACD;IACA;IACA,IAAM2D,QAAQ,GAAGnL,UAAU,CAAC,KAAK,CAAC;IAClC,IAAMoL,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAe;MACnCpE,cAAc,CAAC,IAAI,CAAC;MACpB,IAAI,CAACpB,KAAK,CAAC1C,QAAQ,EAAE;QACnB,IAAI0C,KAAK,CAACf,OAAO,IAAI,CAACsG,QAAQ,CAAC/E,KAAK,EAAE;UACpCR,KAAK,CAACf,OAAO,CAAA6F,KAAA,CAAb9E,KAAK,EAAY0E,SAAS,CAAC;QAC7B;QACA;QACA,IAAI1E,KAAK,CAACjB,UAAU,IAAIiB,KAAK,CAACjB,UAAU,CAAC0D,QAAQ,CAAC,OAAO,CAAC,EAAE;UAC1DN,YAAY,CAAC,IAAI,CAAC;QACpB;MACF;MACAoD,QAAQ,CAAC/E,KAAK,GAAG,IAAI;IACvB,CAAC;IACD,IAAMiF,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAe;MAClCrE,cAAc,CAAC,KAAK,EAAE,YAAM;QAC1BmE,QAAQ,CAAC/E,KAAK,GAAG,KAAK;QACtB2B,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC;MACF,IAAInC,KAAK,CAAC1C,QAAQ,EAAE;QAClB;MACF;MACA,IAAMoI,SAAS,GAAG/D,iBAAiB,CAACnB,KAAK;MACzC,IAAIkF,SAAS,EAAE;QACb;QACA,IAAI1F,KAAK,CAAC3C,IAAI,KAAK,MAAM,EAAE;UACzB2C,KAAK,CAAChE,QAAQ,CAAC0J,SAAS,EAAE;YACxBxC,MAAM,EAAE;UACV,CAAC,CAAC;QACJ,CAAC,MAAM,IAAIlD,KAAK,CAAC3C,IAAI,KAAK,UAAU,EAAE;UACpC;UACA2C,KAAK,CAAChE,QAAQ,CAAC,EAAE,EAAE;YACjBkH,MAAM,EAAE;UACV,CAAC,CAAC;QACJ;MACF;MACA,IAAIlD,KAAK,CAAChB,MAAM,EAAE;QAChBgB,KAAK,CAAChB,MAAM,CAAA8F,KAAA,CAAZ9E,KAAK,EAAW0E,SAAS,CAAC;MAC5B;IACF,CAAC;IACDvK,OAAO,CAAC,wBAAwB,EAAE;MAChCmH,KAAK,EAAEkE,gBAAgB;MACvBhE,IAAI,EAAEiE;IACR,CAAC,CAAC;IACF;IACA,IAAME,gBAAgB,GAAG,EAAE;IAC3BzL,SAAS,CAAC,YAAM;MACdyL,gBAAgB,CAACC,OAAO,CAAC,UAAAC,SAAS;QAAA,OAAIC,YAAY,CAACD,SAAS,CAAC;MAAA,EAAC;MAC9DF,gBAAgB,CAACpB,MAAM,CAAC,CAAC,EAAEoB,gBAAgB,CAACvM,MAAM,CAAC;IACrD,CAAC,CAAC;IACFa,eAAe,CAAC,YAAM;MACpB0L,gBAAgB,CAACC,OAAO,CAAC,UAAAC,SAAS;QAAA,OAAIC,YAAY,CAACD,SAAS,CAAC;MAAA,EAAC;MAC9DF,gBAAgB,CAACpB,MAAM,CAAC,CAAC,EAAEoB,gBAAgB,CAACvM,MAAM,CAAC;IACrD,CAAC,CAAC;IACF,IAAM2M,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAanC,KAAK,EAAE;MAAA,IAAAoC,GAAA;MAC3C,IAAIzE,EAAE,EAAEuB,EAAE;MACV,IACEmD,MAAM,GACJrC,KAAK,CADPqC,MAAM;MAER,IAAMC,YAAY,GAAG,CAAC3E,EAAE,GAAGV,UAAU,CAACL,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4E,eAAe,CAAC,CAAC;MACtG;MACA,IAAID,YAAY,IAAIA,YAAY,CAACE,QAAQ,CAACH,MAAM,CAAC,EAAE;QACjD,IAAMJ,SAAS,GAAGQ,UAAU,CAAC,YAAM;UACjC,IAAI9E,EAAE;UACN,IAAM+E,KAAK,GAAGX,gBAAgB,CAAC1M,OAAO,CAAC4M,SAAS,CAAC;UACjD,IAAIS,KAAK,KAAK,CAAC,CAAC,EAAE;YAChBX,gBAAgB,CAACpB,MAAM,CAAC+B,KAAK,EAAE,CAAC,CAAC;UACnC;UACAjF,oBAAoB,CAAC,CAAC;UACtB,IAAI,CAACZ,MAAM,CAACD,KAAK,IAAI,CAAC0F,YAAY,CAACE,QAAQ,CAACG,QAAQ,CAACC,aAAa,CAAC,EAAE;YACnE,CAACjF,EAAE,GAAGT,WAAW,CAACN,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,KAAK,CAAC,CAAC;UAC1E;QACF,CAAC,CAAC;QACFqE,gBAAgB,CAACc,IAAI,CAACZ,SAAS,CAAC;MAClC;MACA,KAAK,IAAIa,KAAK,GAAGhC,SAAS,CAACtL,MAAM,EAAEuN,QAAQ,GAAG,IAAInL,KAAK,CAACkL,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEE,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGF,KAAK,EAAEE,KAAK,EAAE,EAAE;QACrHD,QAAQ,CAACC,KAAK,GAAG,CAAC,CAAC,GAAGlC,SAAS,CAACkC,KAAK,CAAC;MACxC;MACA,CAAC9D,EAAE,GAAG9C,KAAK,CAACZ,WAAW,MAAM,IAAI,IAAI0D,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAAAkD,GAAA,GAAAlD,EAAE,EAAC9J,IAAI,CAAA8L,KAAA,CAAAkB,GAAA,GAAChG,KAAK,EAAE4D,KAAK,EAAAmB,MAAA,CAAK4B,QAAQ,EAAC;IAClG,CAAC;IACD;IACA,IAAME,cAAc,GAAGzM,UAAU,CAAC,IAAI,CAAC;IACvC,IAAM0M,QAAQ,GAAG9M,kBAAkB,CAAC,CAAC;IACrC,IAAM+M,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;MAC9B;MACAD,QAAQ,CAACE,MAAM,CAAC,CAAC;IACnB,CAAC;IACD9M,SAAS,CAAC,YAAM;MACdI,KAAK,CAAC4H,WAAW,EAAE,YAAM;QACvB,IAAIX,EAAE;QACN,IAAIW,WAAW,CAAC1B,KAAK,EAAE;UACrB,IAAMyG,QAAQ,GAAGC,IAAI,CAACC,IAAI,CAAC,CAAC5F,EAAE,GAAGZ,YAAY,CAACH,KAAK,MAAM,IAAI,IAAIe,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC6F,WAAW,CAAC;UACzG,IAAIP,cAAc,CAACrG,KAAK,KAAKyG,QAAQ,IAAI,CAAC9K,MAAM,CAACkL,KAAK,CAACJ,QAAQ,CAAC,EAAE;YAChEJ,cAAc,CAACrG,KAAK,GAAGyG,QAAQ;UACjC;QACF;MACF,CAAC,EAAE;QACD5D,SAAS,EAAE,IAAI;QACfC,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,CAAC;IACF;IACA7J,uBAAuB,CAAC,CAACkH,YAAY,EAAEE,UAAU,CAAC,EAAEqB,WAAW,EAAEC,YAAY,CAAC;IAC9EtI,yBAAyB,CAACgB,UAAU,CAAC5C,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEoC,MAAM,CAAC2F,KAAK,CAAC,CAAC,EAAE;MACzExC,IAAI,EAAEuE,UAAU;MAChBG,WAAW,EAAXA,WAAW;MACXzF,UAAU,EAAE8D,gBAAgB;MAC5BD,QAAQ,EAARA,QAAQ;MACRgH,UAAU,EAAEnF;IACd,CAAC,CAAC,CAAC,CAAC;IACJ,OAAO,YAAM;MAAA,IAAAoF,YAAA;MACL,IAAAhG,EAAE,GAAGtJ,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAE+H,KAAK,CAAC,EAAEG,KAAK,CAAC;QAE3C/E,SAAS,GAmDPmG,EAAE,CAnDJnG,SAAS;QACTE,EAAE,GAkDAiG,EAAE,CAlDJjG,EAAE;QACFkC,IAAI,GAiDF+D,EAAE,CAjDJ/D,IAAI;QACJC,WAAW,GAgDT8D,EAAE,CAhDJ9D,WAAW;QACXJ,IAAI,GA+CFkE,EAAE,CA/CJlE,IAAI;QAEJZ,UAAU,GA6CR8E,EAAE,CA7CJ9E,UAAU;QACVV,WAAW,GA4CTwF,EAAE,CA5CJxF,WAAW;QACXC,QAAQ,GA2CNuF,EAAE,CA3CJvF,QAAQ;QAERiC,UAAU,GAyCRsD,EAAE,CAzCJtD,UAAU;QACVG,SAAS,GAwCPmD,EAAE,CAxCJnD,SAAS;QACTF,SAAS,GAuCPqD,EAAE,CAvCJrD,SAAS;QACTC,SAAS,GAsCPoD,EAAE,CAtCJpD,SAAS;QAETb,QAAQ,GAoCNiE,EAAE,CApCJjE,QAAQ;QACRC,OAAO,GAmCLgE,EAAE,CAnCJhE,OAAO;QACPI,eAAe,GAkCb4D,EAAE,CAlCJ5D,eAAe;QACfmB,iBAAiB,GAiCfyC,EAAE,CAjCJzC,iBAAiB;QACjBD,SAAS,GAgCP0C,EAAE,CAhCJ1C,SAAS;QAETP,SAAS,GA8BPiD,EAAE,CA9BJjD,SAAS;QACTC,cAAc,GA6BZgD,EAAE,CA7BJhD,cAAc;QACdC,aAAa,GA4BX+C,EAAE,CA5BJ/C,aAAa;QACbC,iBAAiB,GA2Bf8C,EAAE,CA3BJ9C,iBAAiB;QACjBC,wBAAwB,GA0BtB6C,EAAE,CA1BJ7C,wBAAwB;QACxBC,cAAc,GAyBZ4C,EAAE,CAzBJ5C,cAAc;QACdC,aAAa,GAwBX2C,EAAE,CAxBJ3C,aAAa;QACbG,UAAU,GAuBRwC,EAAE,CAvBJxC,UAAU;QACVjC,SAAS,GAsBPyE,EAAE,CAtBJzE,SAAS;QAETkB,eAAe,GAoBbuD,EAAE,CApBJvD,eAAe;QACfpB,SAAS,GAmBP2E,EAAE,CAnBJ3E,SAAS;QACTC,iBAAiB,GAkBf0E,EAAE,CAlBJ1E,iBAAiB;QAEjBwC,aAAa,GAgBXkC,EAAE,CAhBJlC,aAAa;QACb3B,uBAAuB,GAerB6D,EAAE,CAfJ7D,uBAAuB;QACvBuB,OAAO,GAcLsC,EAAE,CAdJtC,OAAO;QACPD,MAAM,GAaJuC,EAAE,CAbJvC,MAAM;QACNE,OAAO,GAYLqC,EAAE,CAZJrC,OAAO;QACPC,SAAS,GAWPoC,EAAE,CAXJpC,SAAS;QACTC,WAAW,GAUTmC,EAAE,CAVJnC,WAAW;QACXjC,OAAO,GASLoE,EAAE,CATJpE,OAAO;QACP5B,YAAY,GAQVgG,EAAE,CARJhG,YAAY;QACZqC,kBAAkB,GAOhB2D,EAAE,CAPJ3D,kBAAkB;QAClBnC,aAAa,GAMX8F,EAAE,CANJ9F,aAAa;QACbC,qBAAqB,GAKnB6F,EAAE,CALJ7F,qBAAqB;QACrBY,YAAY,GAIViF,EAAE,CAJJjF,YAAY;QACZT,kBAAkB,GAGhB0F,EAAE,CAHJ1F,kBAAkB;QAClBD,WAAW,GAET2F,EAAE,CAFJ3F,WAAW;QACXQ,UAAU,GACRmF,EAAE,CADJnF,UAAU;QAEZoL,SAAS,GAAGhP,MAAM,CAAC+I,EAAE,EAAE,CAAC,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,aAAa,EAAE,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,UAAU,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,iBAAiB,EAAE,mBAAmB,EAAE,WAAW,EAAE,WAAW,EAAE,gBAAgB,EAAE,eAAe,EAAE,mBAAmB,EAAE,0BAA0B,EAAE,gBAAgB,EAAE,eAAe,EAAE,YAAY,EAAE,WAAW,EAAE,iBAAiB,EAAE,WAAW,EAAE,mBAAmB,EAAE,eAAe,EAAE,yBAAyB,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,SAAS,EAAE,cAAc,EAAE,oBAAoB,EAAE,eAAe,EAAE,uBAAuB,EAAE,cAAc,EAAE,oBAAoB,EAAE,aAAa,EAAE,YAAY,CAAC,CAAC;;MAChtB;MACA;MACA,IAAMkG,qBAAqB,GAAGpK,IAAI,KAAK,UAAU,IAAIM,eAAe,IAAIA,eAAe,CAAC,CAAC,IAAI,IAAI;MACjG;MACA,IAAM+J,wBAAwB,GAAG,OAAO9J,kBAAkB,KAAK,UAAU,IAAIA,kBAAkB,CAAC,CAAC;MACjG,IAAM+J,QAAQ,GAAG1P,QAAQ,CAAC,CAAC,CAAC,EAAEuP,SAAS,CAAC;MACxC;MACA,IAAII,sBAAsB;MAC1B,IAAIF,wBAAwB,EAAE;QAC5BE,sBAAsB,GAAG,SAAAA,uBAAAxF,OAAO,EAAI;UAClCD,YAAY,CAACC,OAAO,CAAC;QACvB,CAAC;MACH;MACAlH,kBAAkB,CAAC0K,OAAO,CAAC,UAAAiC,QAAQ,EAAI;QACrC,OAAOF,QAAQ,CAACE,QAAQ,CAAC;MAC3B,CAAC,CAAC;MACFtM,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACqK,OAAO,CAAC,UAAAiC,QAAQ,EAAI;QAC3F,OAAOF,QAAQ,CAACE,QAAQ,CAAC;MAC3B,CAAC,CAAC;MACF;MACA,IAAMC,eAAe,GAAG5J,SAAS,KAAKvB,SAAS,GAAGuB,SAAS,GAAGX,OAAO,IAAI,CAAC+C,QAAQ,CAACE,KAAK,IAAInD,IAAI,KAAK,UAAU;MAC/G,IAAI0K,SAAS;MACb,IAAID,eAAe,EAAE;QACnBC,SAAS,GAAGxP,YAAY,CAACoB,QAAQ,EAAE;UACjC,OAAO,EAAEmB,UAAU,IAAAiK,MAAA,CAAI3J,SAAS,aAAA4M,eAAA,QAAAjD,MAAA,CAC1B3J,SAAS,qBAAmBmC,OAAO,CACxC,CAAC;UACF,eAAe,EAAEY,SAAS;UAC1B,oBAAoB,EAAE;YACpBZ,OAAO,EAAPA,OAAO;YACPxB,WAAW,EAAE4F,iBAAiB,CAACnB,KAAK;YACpChD,IAAI,EAAEuE,UAAU,CAACvB,KAAK;YACtByH,OAAO,EAAE9G,WAAW,CAACX,KAAK;YAC1B/D,UAAU,EAAE8D,gBAAgB,CAACC;UAC/B;QACF,CAAC,EAAE,IAAI,CAAC;MACV;MACA;MACA,IAAI0H,SAAS;MACb,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;QAC7BhL,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC,CAAC;QAC3DzB,qBAAqB,CAAC,EAAE,EAAE;UACxBgB,IAAI,EAAE,OAAO;UACb8H,MAAM,EAAE/I;QACV,CAAC,CAAC;QACFiH,gBAAgB,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC;MACpC,CAAC;MACD,IAAI,CAACpF,QAAQ,IAAIW,UAAU,KAAKxC,aAAa,CAACrC,MAAM,IAAIuI,iBAAiB,CAACnB,KAAK,CAAC,EAAE;QAChF0H,SAAS,GAAG3P,YAAY,CAACoB,QAAQ,EAAE;UACjC,OAAO,KAAAoL,MAAA,CAAK3J,SAAS,WAAQ;UAC7B,aAAa,EAAE+M,gBAAgB;UAC/B,eAAe,EAAE/J;QACnB,CAAC,EAAE;UACD,WAAS,SAAAgK,SAAA;YAAA,OAAM,CAAC/P,gBAAgB,CAAC,MAAM,CAAC,CAAC;UAAA;QAC3C,CAAC,CAAC;MACJ;MACA;MACA,IAAMgQ,UAAU,GAAG9P,YAAY,CAAC6D,UAAU,EAAE;QAC1C,KAAK,EAAE2E;MACT,CAAC,EAAE9I,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEyI,uBAAuB,CAAC4H,WAAW,CAAC,EAAE;QAC7DC,MAAM,EAAElI,KAAK,CAACkI;MAChB,CAAC,CAAC,CAAC;MACH;MACA,IAAMC,eAAe,GAAG1N,UAAU,CAACM,SAAS,EAAE+E,KAAK,SAAM,GAAAoH,YAAA,OAAAS,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACnD3J,SAAS,eAAa+F,WAAW,CAACX,KAAK,GAAAwH,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACvC3J,SAAS,gBAAckF,QAAQ,CAACE,KAAK,GAAAwH,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACrC3J,SAAS,cAAY,CAACkF,QAAQ,CAACE,KAAK,GAAAwH,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACpC3J,SAAS,mBAAiB6C,UAAU,GAAA+J,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACpC3J,SAAS,kBAAgB0M,eAAe,GAAAE,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACxC3J,SAAS,gBAAckC,QAAQ,GAAA0K,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CAC/B3J,SAAS,eAAamC,OAAO,GAAAyK,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CAC7B3J,SAAS,YAAU2G,UAAU,CAACvB,KAAK,GAAAwH,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACnC3J,SAAS,uBAAqBqM,qBAAqB,GAAAO,eAAA,CAAAT,YAAA,KAAAxC,MAAA,CACnD3J,SAAS,mBAAiBmF,gBAAgB,CAACC,KAAK,GAAA+G,YAAA,CACrD,CAAC;MACF;MACA,IAAMkB,YAAY,GAAGlQ,YAAY,CAACgB,aAAa,EAAE;QAC/C,KAAK,EAAEsH,UAAU;QACjB,UAAU,EAAEvD,QAAQ;QACpB,WAAW,EAAElC,SAAS;QACtB,SAAS,EAAE8G,WAAW,CAAC1B,KAAK;QAC5B,cAAc,EAAE6H,UAAU;QAC1B,gBAAgB,EAAExB,cAAc,CAACrG,KAAK;QACtC,WAAW,EAAElC,SAAS;QACtB,gBAAgB,EAAEC,cAAc;QAChC,eAAe,EAAEC,aAAa;QAC9B,mBAAmB,EAAEC,iBAAiB;QACtC,WAAW,EAAE3B,SAAS;QACtB,0BAA0B,EAAE4B,wBAAwB;QACpD,gBAAgB,EAAEC,cAAc;QAChC,eAAe,EAAEC,aAAa;QAC9B,WAAW,EAAEC,SAAS;QACtB,mBAAmB,EAAEC,iBAAiB;QACtC,OAAO,EAAExC,YAAY;QACrB,mBAAmB,EAAE,SAAAoM,kBAAA;UAAA,OAAM9H,cAAc,CAAC0D,OAAO;QAAA;QACjD,sBAAsB,EAAEsD,sBAAsB;QAC9C,mBAAmB,EAAEb;MACvB,CAAC,EAAE;QACD,WAAS,SAAAqB,SAAA,EAAM;UACb,OAAOV,wBAAwB,GAAGhN,cAAc,CAACgN,wBAAwB,CAAC,IAAIzM,YAAY,CAACyM,wBAAwB,EAAE;YACnHiB,GAAG,EAAE/H;UACP,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,GAAGrI,YAAY,CAACiB,QAAQ,EAAExB,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEgI,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE;YACnF,QAAQ,EAAEY,cAAc;YACxB,WAAW,EAAExF,SAAS;YACtB,cAAc,EAAEqM,qBAAqB;YACrC,KAAK,EAAE3G,WAAW;YAClB,IAAI,EAAExF,EAAE;YACR,YAAY,EAAEiF,gBAAgB,CAACC,KAAK;YACpC,MAAM,EAAEnD,IAAI;YACZ,oBAAoB,EAAExB,kBAAkB;YACxC,WAAW,EAAEe,SAAS;YACtB,mBAAmB,EAAEC,iBAAiB;YACtC,QAAQ,EAAEpB,aAAa;YACvB,MAAM,EAAEsG,UAAU,CAACvB,KAAK;YACxB,cAAc,EAAE2B,YAAY;YAC5B,aAAa,EAAEvG,WAAW;YAC1B,aAAa,EAAE+F,iBAAiB,CAACnB,KAAK;YACtC,UAAU,EAAEkC,gBAAgB;YAC5B,gBAAgB,EAAES,sBAAsB;YACxC,UAAU,EAAEiC,gBAAgB;YAC5B,gBAAgB,EAAE9C,cAAc,CAAC9B;UACnC,CAAC,CAAC,EAAE,IAAI,CAAC;QACX;MACF,CAAC,CAAC;MACF;MACA,IAAIoI,UAAU;MACd;MACA,IAAIlB,wBAAwB,EAAE;QAC5BkB,UAAU,GAAGH,YAAY;MAC3B,CAAC,MAAM;QACLG,UAAU,GAAGrQ,YAAY,CAAC,KAAK,EAAEP,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAE2P,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE;UAC9E,OAAO,EAAEa,eAAe;UACxB,KAAK,EAAE7H,YAAY;UACnB,aAAa,EAAEoF,mBAAmB;UAClC,WAAW,EAAEpC,iBAAiB;UAC9B,SAAS,EAAEqB;QACb,CAAC,CAAC,EAAE,CAAC7D,WAAW,CAACX,KAAK,IAAI,CAACuB,UAAU,CAACvB,KAAK,IAAIjI,YAAY,CAAC,MAAM,EAAE;UAClE,OAAO,EAAE;YACPsQ,KAAK,EAAE,CAAC;YACRC,MAAM,EAAE,CAAC;YACTC,QAAQ,EAAE,UAAU;YACpBC,QAAQ,EAAE,QAAQ;YAClBC,OAAO,EAAE;UACX,CAAC;UACD,WAAW,EAAE;QACf,CAAC,EAAE,IAAAlE,MAAA,CAAItJ,aAAa,CAACyN,GAAG,CAAC,UAAAC,KAAK,EAAI;UAChC,IACEC,KAAK,GAEHD,KAAK,CAFPC,KAAK;YACL5I,KAAK,GACH2I,KAAK,CADP3I,KAAK;UAEP,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAACiC,QAAQ,CAAA4G,OAAA,CAAQD,KAAK,EAAC,GAAGA,KAAK,GAAG5I,KAAK;QACpE,CAAC,CAAC,CAAC8I,IAAI,CAAC,IAAI,CAAC,EAAG,CAAC,EAAEb,YAAY,EAAEV,SAAS,EAAEG,SAAS,CAAC,CAAC;MACzD;MACA,OAAOU,UAAU;IACnB,CAAC;EACH;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}