{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, shallowRef } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      \"default\": function _default() {\n        return [];\n      }\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var _inject = inject(MentionsContextKey, {\n        activeIndex: shallowRef(),\n        loading: shallowRef(false)\n      }),\n      activeIndex = _inject.activeIndex,\n      setActiveIndex = _inject.setActiveIndex,\n      selectOption = _inject.selectOption,\n      _inject$onFocus = _inject.onFocus,\n      onFocus = _inject$onFocus === void 0 ? noop : _inject$onFocus,\n      loading = _inject.loading;\n    var timeoutId;\n    var onMousedown = function onMousedown(e) {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(function () {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(function () {\n      clearTimeout(timeoutId);\n    });\n    return function () {\n      var _a;\n      var prefixCls = props.prefixCls,\n        options = props.options;\n      var activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": \"\".concat(prefixCls, \"-menu\"),\n        \"activeKey\": activeOption.value,\n        \"onSelect\": function onSelect(_ref2) {\n          var key = _ref2.key;\n          var option = options.find(function (_ref3) {\n            var value = _ref3.value;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        \"default\": function _default() {\n          return [!loading.value && options.map(function (option, index) {\n            var _a, _b;\n            var value = option.value,\n              disabled = option.disabled,\n              _option$label = option.label,\n              label = _option$label === void 0 ? option.value : _option$label,\n              className = option[\"class\"],\n              style = option.style;\n            return _createVNode(MenuItem, {\n              \"key\": value,\n              \"disabled\": disabled,\n              \"onMouseenter\": function onMouseenter() {\n                setActiveIndex(index);\n              },\n              \"class\": className,\n              \"style\": style\n            }, {\n              \"default\": function _default() {\n                return [(_b = (_a = slots.option) === null || _a === void 0 ? void 0 : _a.call(slots, option)) !== null && _b !== void 0 ? _b : typeof label === 'function' ? label(option) : label];\n              }\n            });\n          }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n            \"key\": \"notFoundContent\",\n            \"disabled\": true\n          }, {\n            \"default\": function _default() {\n              return [(_a = slots.notFoundContent) === null || _a === void 0 ? void 0 : _a.call(slots)];\n            }\n          }) : null, loading.value && _createVNode(MenuItem, {\n            \"key\": \"loading\",\n            \"disabled\": true\n          }, {\n            \"default\": function _default() {\n              return [_createVNode(Spin, {\n                \"size\": \"small\"\n              }, null)];\n            }\n          })];\n        }\n      });\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","Menu","Item","MenuItem","onBeforeUnmount","defineComponent","inject","shallowRef","MentionsContextKey","Spin","noop","compatConfig","MODE","name","props","prefixCls","String","options","type","Array","_default","setup","_ref","slots","_inject","activeIndex","loading","setActiveIndex","selectOption","_inject$onFocus","onFocus","timeoutId","onMousedown","e","clearTimeout","setTimeout","_a","activeOption","value","concat","onSelect","_ref2","key","option","find","_ref3","map","index","_b","disabled","_option$label","label","className","style","onMouseenter","call","length","notFoundContent"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-mentions/src/DropdownMenu.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport Menu, { Item as MenuItem } from '../../menu';\nimport { onBeforeUnmount, defineComponent, inject, shallowRef } from 'vue';\nimport MentionsContextKey from './MentionsContext';\nimport Spin from '../../spin';\nfunction noop() {}\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'DropdownMenu',\n  props: {\n    prefixCls: String,\n    options: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      activeIndex,\n      setActiveIndex,\n      selectOption,\n      onFocus = noop,\n      loading\n    } = inject(MentionsContextKey, {\n      activeIndex: shallowRef(),\n      loading: shallowRef(false)\n    });\n    let timeoutId;\n    const onMousedown = e => {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        onFocus(e);\n      });\n    };\n    onBeforeUnmount(() => {\n      clearTimeout(timeoutId);\n    });\n    return () => {\n      var _a;\n      const {\n        prefixCls,\n        options\n      } = props;\n      const activeOption = options[activeIndex.value] || {};\n      return _createVNode(Menu, {\n        \"prefixCls\": `${prefixCls}-menu`,\n        \"activeKey\": activeOption.value,\n        \"onSelect\": _ref2 => {\n          let {\n            key\n          } = _ref2;\n          const option = options.find(_ref3 => {\n            let {\n              value\n            } = _ref3;\n            return value === key;\n          });\n          selectOption(option);\n        },\n        \"onMousedown\": onMousedown\n      }, {\n        default: () => [!loading.value && options.map((option, index) => {\n          var _a, _b;\n          const {\n            value,\n            disabled,\n            label = option.value,\n            class: className,\n            style\n          } = option;\n          return _createVNode(MenuItem, {\n            \"key\": value,\n            \"disabled\": disabled,\n            \"onMouseenter\": () => {\n              setActiveIndex(index);\n            },\n            \"class\": className,\n            \"style\": style\n          }, {\n            default: () => [(_b = (_a = slots.option) === null || _a === void 0 ? void 0 : _a.call(slots, option)) !== null && _b !== void 0 ? _b : typeof label === 'function' ? label(option) : label]\n          });\n        }), !loading.value && options.length === 0 ? _createVNode(MenuItem, {\n          \"key\": \"notFoundContent\",\n          \"disabled\": true\n        }, {\n          default: () => [(_a = slots.notFoundContent) === null || _a === void 0 ? void 0 : _a.call(slots)]\n        }) : null, loading.value && _createVNode(MenuItem, {\n          \"key\": \"loading\",\n          \"disabled\": true\n        }, {\n          default: () => [_createVNode(Spin, {\n            \"size\": \"small\"\n          }, null)]\n        })]\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}