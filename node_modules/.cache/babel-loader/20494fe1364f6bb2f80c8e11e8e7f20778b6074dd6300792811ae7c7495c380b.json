{"ast":null,"code":"import _typeof from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map(function (opt, index) {\n    if (opt && _typeof(opt) === 'object') {\n      var _a = opt,\n        label = _a.label,\n        children = _a.children,\n        key = _a.key,\n        type = _a.type,\n        restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n      var mergedKey = key !== null && key !== void 0 ? key : \"tmp-\".concat(index);\n      // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n      var parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      var childrenEventKeys = [];\n      // if\n      var menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      };\n      // MenuItemGroup & SubMenuItem\n      if (children || type === 'group') {\n        if (type === 'group') {\n          var _childrenNodes = convertItemsToNodes(children, store, parentMenuInfo);\n          // Group\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label,\n            \"originItemValue\": opt\n          }), {\n            \"default\": function _default() {\n              return [_childrenNodes];\n            }\n          });\n        }\n        store.set(mergedKey, menuInfo);\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        }\n        // Sub Menu\n        var childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys: childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label,\n          \"originItemValue\": opt\n        }), {\n          \"default\": function _default() {\n            return [childrenNodes];\n          }\n        });\n      }\n      // MenuItem & Divider\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread(_objectSpread({\n        \"key\": mergedKey\n      }, restProps), {}, {\n        \"originItemValue\": opt\n      }), {\n        \"default\": function _default() {\n          return [label];\n        }\n      });\n    }\n    return null;\n  }).filter(function (opt) {\n    return opt;\n  });\n}\n// FIXME: Move logic here in v4\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\nexport default function useItems(props) {\n  var itemsNodes = shallowRef([]);\n  var hasItmes = shallowRef(false);\n  var store = shallowRef(new Map());\n  watch(function () {\n    return props.items;\n  }, function () {\n    var newStore = new Map();\n    hasItmes.value = false;\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes: itemsNodes,\n    store: store,\n    hasItmes: hasItmes\n  };\n}","map":{"version":3,"names":["_objectSpread","createVNode","_createVNode","__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SubMenu","ItemGroup","MenuDivider","MenuItem","ref","shallowRef","watch","convertItemsToNodes","list","store","parentMenuInfo","map","opt","index","_typeof","_a","label","children","key","type","restProps","mergedKey","concat","parentKeys","slice","childrenEventKeys","menuInfo","eventKey","parentEventKeys","isLeaf","childrenNodes","_default","set","push","filter","useItems","props","itemsNodes","hasItmes","Map","items","newStore","value","undefined","immediate","deep"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/menu/src/hooks/useItems.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { createVNode as _createVNode } from \"vue\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport SubMenu from '../SubMenu';\nimport ItemGroup from '../ItemGroup';\nimport MenuDivider from '../Divider';\nimport MenuItem from '../MenuItem';\nimport { ref, shallowRef, watch } from 'vue';\nfunction convertItemsToNodes(list, store, parentMenuInfo) {\n  return (list || []).map((opt, index) => {\n    if (opt && typeof opt === 'object') {\n      const _a = opt,\n        {\n          label,\n          children,\n          key,\n          type\n        } = _a,\n        restProps = __rest(_a, [\"label\", \"children\", \"key\", \"type\"]);\n      const mergedKey = key !== null && key !== void 0 ? key : `tmp-${index}`;\n      // 此处 eventKey === key, 移除 children 后可以移除 eventKey\n      const parentKeys = parentMenuInfo ? parentMenuInfo.parentKeys.slice() : [];\n      const childrenEventKeys = [];\n      // if\n      const menuInfo = {\n        eventKey: mergedKey,\n        key: mergedKey,\n        parentEventKeys: ref(parentKeys),\n        parentKeys: ref(parentKeys),\n        childrenEventKeys: ref(childrenEventKeys),\n        isLeaf: false\n      };\n      // MenuItemGroup & SubMenuItem\n      if (children || type === 'group') {\n        if (type === 'group') {\n          const childrenNodes = convertItemsToNodes(children, store, parentMenuInfo);\n          // Group\n          return _createVNode(ItemGroup, _objectSpread(_objectSpread({\n            \"key\": mergedKey\n          }, restProps), {}, {\n            \"title\": label,\n            \"originItemValue\": opt\n          }), {\n            default: () => [childrenNodes]\n          });\n        }\n        store.set(mergedKey, menuInfo);\n        if (parentMenuInfo) {\n          parentMenuInfo.childrenEventKeys.push(mergedKey);\n        }\n        // Sub Menu\n        const childrenNodes = convertItemsToNodes(children, store, {\n          childrenEventKeys,\n          parentKeys: [].concat(parentKeys, mergedKey)\n        });\n        return _createVNode(SubMenu, _objectSpread(_objectSpread({\n          \"key\": mergedKey\n        }, restProps), {}, {\n          \"title\": label,\n          \"originItemValue\": opt\n        }), {\n          default: () => [childrenNodes]\n        });\n      }\n      // MenuItem & Divider\n      if (type === 'divider') {\n        return _createVNode(MenuDivider, _objectSpread({\n          \"key\": mergedKey\n        }, restProps), null);\n      }\n      menuInfo.isLeaf = true;\n      store.set(mergedKey, menuInfo);\n      return _createVNode(MenuItem, _objectSpread(_objectSpread({\n        \"key\": mergedKey\n      }, restProps), {}, {\n        \"originItemValue\": opt\n      }), {\n        default: () => [label]\n      });\n    }\n    return null;\n  }).filter(opt => opt);\n}\n// FIXME: Move logic here in v4\n/**\n * We simply convert `items` to VueNode for reuse origin component logic. But we need move all the\n * logic from component into this hooks when in v4\n */\nexport default function useItems(props) {\n  const itemsNodes = shallowRef([]);\n  const hasItmes = shallowRef(false);\n  const store = shallowRef(new Map());\n  watch(() => props.items, () => {\n    const newStore = new Map();\n    hasItmes.value = false;\n    if (props.items) {\n      hasItmes.value = true;\n      itemsNodes.value = convertItemsToNodes(props.items, newStore);\n    } else {\n      itemsNodes.value = undefined;\n    }\n    store.value = newStore;\n  }, {\n    immediate: true,\n    deep: true\n  });\n  return {\n    itemsNodes,\n    store,\n    hasItmes\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}