{"ast":null,"code":"import \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport router from \"./router\";\n\n// 路由判断登录 根据路由配置文件的参数\nrouter.beforeEach(function (to, from, next) {\n  if (to.matched.some(function (record) {\n    return record.meta.requireAuth;\n  })) {\n    // 判断该路由是否需要登录权限\n    var token = localStorage.getItem(\"token\");\n    console.log(\"------------\" + token);\n    if (token) {\n      // 判断当前的token是否存在 ； 登录存入的token\n      console.log(\"------------\" + token);\n      if (to.path === '/login') {\n        // next('/home')\n      } else {\n        next();\n      }\n    } else {\n      next({\n        path: '/login'\n      });\n    }\n  } else {\n    next();\n  }\n});","map":{"version":3,"names":["router","beforeEach","to","from","next","matched","some","record","meta","requireAuth","token","localStorage","getItem","console","log","path"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/src/permission.js"],"sourcesContent":["import router from \"./router\";\n\n// 路由判断登录 根据路由配置文件的参数\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requireAuth)) { // 判断该路由是否需要登录权限\n    const token = localStorage.getItem(\"token\")\n    console.log(\"------------\" + token)\n    if (token) { // 判断当前的token是否存在 ； 登录存入的token\n      console.log(\"------------\" + token)\n      if (to.path === '/login') {\n        // next('/home')\n      } else {\n        next()\n      }\n    }else {\n      next({\n        path: '/login'\n      })\n    }\n  } else {\n    next()\n  }\n})"],"mappings":";;AAAA,OAAOA,MAAM,MAAM,UAAU;;AAE7B;AACAA,MAAM,CAACC,UAAU,CAAC,UAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAK;EACpC,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAAC,UAAAC,MAAM;IAAA,OAAIA,MAAM,CAACC,IAAI,CAACC,WAAW;EAAA,EAAC,EAAE;IAAE;IACxD,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CC,OAAO,CAACC,GAAG,CAAC,cAAc,GAAGJ,KAAK,CAAC;IACnC,IAAIA,KAAK,EAAE;MAAE;MACXG,OAAO,CAACC,GAAG,CAAC,cAAc,GAAGJ,KAAK,CAAC;MACnC,IAAIR,EAAE,CAACa,IAAI,KAAK,QAAQ,EAAE;QACxB;MAAA,CACD,MAAM;QACLX,IAAI,CAAC,CAAC;MACR;IACF,CAAC,MAAK;MACJA,IAAI,CAAC;QACHW,IAAI,EAAE;MACR,CAAC,CAAC;IACJ;EACF,CAAC,MAAM;IACLX,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}