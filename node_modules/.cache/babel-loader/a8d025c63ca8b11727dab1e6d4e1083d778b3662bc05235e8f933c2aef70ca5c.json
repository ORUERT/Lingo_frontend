{"ast":null,"code":"import \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport { warning } from '../vc-util/warning';\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim();\n      // This is something like */*,*  allow all files\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      }\n      // like .jpg, .png\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      }\n      // This is something like a image/* mime type\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n      // Full match\n      if (mimeType === validType) {\n        return true;\n      }\n      // Invalidate type should skip\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n      return false;\n    });\n  }\n  return true;\n});","map":{"version":3,"names":["warning","file","acceptedFiles","acceptedFilesArray","Array","isArray","split","fileName","name","mimeType","type","baseMimeType","replace","some","validType","trim","test","charAt","lowerFileName","toLowerCase","lowerType","affixList","affix","endsWith","concat"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-upload/attr-accept.js"],"sourcesContent":["import { warning } from '../vc-util/warning';\nexport default ((file, acceptedFiles) => {\n  if (file && acceptedFiles) {\n    const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    const fileName = file.name || '';\n    const mimeType = file.type || '';\n    const baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(type => {\n      const validType = type.trim();\n      // This is something like */*,*  allow all files\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      }\n      // like .jpg, .png\n      if (validType.charAt(0) === '.') {\n        const lowerFileName = fileName.toLowerCase();\n        const lowerType = validType.toLowerCase();\n        let affixList = [lowerType];\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n        return affixList.some(affix => lowerFileName.endsWith(affix));\n      }\n      // This is something like a image/* mime type\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      }\n      // Full match\n      if (mimeType === validType) {\n        return true;\n      }\n      // Invalidate type should skip\n      if (/^\\w+$/.test(validType)) {\n        warning(false, `Upload takes an invalidate 'accept' type '${validType}'.Skip for check.`);\n        return true;\n      }\n      return false;\n    });\n  }\n  return true;\n});"],"mappings":";;;;;;;;;AAAA,SAASA,OAAO,QAAQ,oBAAoB;AAC5C,gBAAgB,UAACC,IAAI,EAAEC,aAAa,EAAK;EACvC,IAAID,IAAI,IAAIC,aAAa,EAAE;IACzB,IAAMC,kBAAkB,GAAGC,KAAK,CAACC,OAAO,CAACH,aAAa,CAAC,GAAGA,aAAa,GAAGA,aAAa,CAACI,KAAK,CAAC,GAAG,CAAC;IAClG,IAAMC,QAAQ,GAAGN,IAAI,CAACO,IAAI,IAAI,EAAE;IAChC,IAAMC,QAAQ,GAAGR,IAAI,CAACS,IAAI,IAAI,EAAE;IAChC,IAAMC,YAAY,GAAGF,QAAQ,CAACG,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;IAClD,OAAOT,kBAAkB,CAACU,IAAI,CAAC,UAAAH,IAAI,EAAI;MACrC,IAAMI,SAAS,GAAGJ,IAAI,CAACK,IAAI,CAAC,CAAC;MAC7B;MACA,IAAI,aAAa,CAACC,IAAI,CAACN,IAAI,CAAC,EAAE;QAC5B,OAAO,IAAI;MACb;MACA;MACA,IAAII,SAAS,CAACG,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QAC/B,IAAMC,aAAa,GAAGX,QAAQ,CAACY,WAAW,CAAC,CAAC;QAC5C,IAAMC,SAAS,GAAGN,SAAS,CAACK,WAAW,CAAC,CAAC;QACzC,IAAIE,SAAS,GAAG,CAACD,SAAS,CAAC;QAC3B,IAAIA,SAAS,KAAK,MAAM,IAAIA,SAAS,KAAK,OAAO,EAAE;UACjDC,SAAS,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC;QAC/B;QACA,OAAOA,SAAS,CAACR,IAAI,CAAC,UAAAS,KAAK;UAAA,OAAIJ,aAAa,CAACK,QAAQ,CAACD,KAAK,CAAC;QAAA,EAAC;MAC/D;MACA;MACA,IAAI,OAAO,CAACN,IAAI,CAACF,SAAS,CAAC,EAAE;QAC3B,OAAOH,YAAY,KAAKG,SAAS,CAACF,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;MACxD;MACA;MACA,IAAIH,QAAQ,KAAKK,SAAS,EAAE;QAC1B,OAAO,IAAI;MACb;MACA;MACA,IAAI,OAAO,CAACE,IAAI,CAACF,SAAS,CAAC,EAAE;QAC3Bd,OAAO,CAAC,KAAK,+CAAAwB,MAAA,CAA+CV,SAAS,sBAAmB,CAAC;QACzF,OAAO,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;EACA,OAAO,IAAI;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}