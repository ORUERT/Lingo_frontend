{"ast":null,"code":"import _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, shallowRef, watch } from 'vue';\nimport { useInjectForceRender, useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nimport { getTransitionProps } from '../../_util/transition';\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: Object,\n  emits: ['visibleChange'],\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      emit = _ref.emit;\n    var innerVisible = shallowRef(false);\n    var _useInjectMenu = useInjectMenu(),\n      getPopupContainer = _useInjectMenu.getPopupContainer,\n      rtl = _useInjectMenu.rtl,\n      subMenuOpenDelay = _useInjectMenu.subMenuOpenDelay,\n      subMenuCloseDelay = _useInjectMenu.subMenuCloseDelay,\n      builtinPlacements = _useInjectMenu.builtinPlacements,\n      triggerSubMenuAction = _useInjectMenu.triggerSubMenuAction,\n      forceSubMenuRender = _useInjectMenu.forceSubMenuRender,\n      motion = _useInjectMenu.motion,\n      defaultMotions = _useInjectMenu.defaultMotions,\n      rootClassName = _useInjectMenu.rootClassName;\n    var forceRender = useInjectForceRender();\n    var placement = computed(function () {\n      return rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value);\n    });\n    var popupPlacement = computed(function () {\n      return popupPlacementMap[props.mode];\n    });\n    var visibleRef = shallowRef();\n    watch(function () {\n      return props.visible;\n    }, function (visible) {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(function () {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(function () {\n      raf.cancel(visibleRef.value);\n    });\n    var onVisibleChange = function onVisibleChange(visible) {\n      emit('visibleChange', visible);\n    };\n    var mergedMotion = computed(function () {\n      var _a, _b;\n      var m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[props.mode]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      var res = typeof m === 'function' ? m() : m;\n      return res ? getTransitionProps(res.name, {\n        css: true\n      }) : undefined;\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n        popupClassName = props.popupClassName,\n        mode = props.mode,\n        popupOffset = props.popupOffset,\n        disabled = props.disabled;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl.value), popupClassName, rootClassName.value),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": getPopupContainer.value,\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": forceRender || forceSubMenuRender.value,\n        \"popupAnimation\": mergedMotion.value\n      }, {\n        popup: slots.popup,\n        \"default\": slots[\"default\"]\n      });\n    };\n  }\n});","map":{"version":3,"names":["_extends","createVNode","_createVNode","resolveDirective","_resolveDirective","Trigger","computed","defineComponent","onBeforeUnmount","shallowRef","watch","useInjectForceRender","useInjectMenu","placements","placementsRtl","raf","classNames","getTransitionProps","popupPlacementMap","horizontal","vertical","compatConfig","MODE","name","inheritAttrs","props","prefixCls","String","mode","visible","Boolean","popupClassName","popupOffset","Array","disabled","onVisibleChange","Function","slots","Object","emits","setup","_ref","emit","innerVisible","_useInjectMenu","getPopupContainer","rtl","subMenuOpenDelay","subMenuCloseDelay","builtinPlacements","triggerSubMenuAction","forceSubMenuRender","motion","defaultMotions","rootClassName","forceRender","placement","value","popupPlacement","visibleRef","cancel","immediate","mergedMotion","_a","_b","m","other","res","css","undefined","concat","_defineProperty","offset","popup"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/menu/src/PopupTrigger.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createVNode as _createVNode, resolveDirective as _resolveDirective } from \"vue\";\nimport Trigger from '../../vc-trigger';\nimport { computed, defineComponent, onBeforeUnmount, shallowRef, watch } from 'vue';\nimport { useInjectForceRender, useInjectMenu } from './hooks/useMenuContext';\nimport { placements, placementsRtl } from './placements';\nimport raf from '../../_util/raf';\nimport classNames from '../../_util/classNames';\nimport { getTransitionProps } from '../../_util/transition';\nconst popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'PopupTrigger',\n  inheritAttrs: false,\n  props: {\n    prefixCls: String,\n    mode: String,\n    visible: Boolean,\n    // popup: React.ReactNode;\n    popupClassName: String,\n    popupOffset: Array,\n    disabled: Boolean,\n    onVisibleChange: Function\n  },\n  slots: Object,\n  emits: ['visibleChange'],\n  setup(props, _ref) {\n    let {\n      slots,\n      emit\n    } = _ref;\n    const innerVisible = shallowRef(false);\n    const {\n      getPopupContainer,\n      rtl,\n      subMenuOpenDelay,\n      subMenuCloseDelay,\n      builtinPlacements,\n      triggerSubMenuAction,\n      forceSubMenuRender,\n      motion,\n      defaultMotions,\n      rootClassName\n    } = useInjectMenu();\n    const forceRender = useInjectForceRender();\n    const placement = computed(() => rtl.value ? _extends(_extends({}, placementsRtl), builtinPlacements.value) : _extends(_extends({}, placements), builtinPlacements.value));\n    const popupPlacement = computed(() => popupPlacementMap[props.mode]);\n    const visibleRef = shallowRef();\n    watch(() => props.visible, visible => {\n      raf.cancel(visibleRef.value);\n      visibleRef.value = raf(() => {\n        innerVisible.value = visible;\n      });\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(() => {\n      raf.cancel(visibleRef.value);\n    });\n    const onVisibleChange = visible => {\n      emit('visibleChange', visible);\n    };\n    const mergedMotion = computed(() => {\n      var _a, _b;\n      const m = motion.value || ((_a = defaultMotions.value) === null || _a === void 0 ? void 0 : _a[props.mode]) || ((_b = defaultMotions.value) === null || _b === void 0 ? void 0 : _b.other);\n      const res = typeof m === 'function' ? m() : m;\n      return res ? getTransitionProps(res.name, {\n        css: true\n      }) : undefined;\n    });\n    return () => {\n      const {\n        prefixCls,\n        popupClassName,\n        mode,\n        popupOffset,\n        disabled\n      } = props;\n      return _createVNode(Trigger, {\n        \"prefixCls\": prefixCls,\n        \"popupClassName\": classNames(`${prefixCls}-popup`, {\n          [`${prefixCls}-rtl`]: rtl.value\n        }, popupClassName, rootClassName.value),\n        \"stretch\": mode === 'horizontal' ? 'minWidth' : null,\n        \"getPopupContainer\": getPopupContainer.value,\n        \"builtinPlacements\": placement.value,\n        \"popupPlacement\": popupPlacement.value,\n        \"popupVisible\": innerVisible.value,\n        \"popupAlign\": popupOffset && {\n          offset: popupOffset\n        },\n        \"action\": disabled ? [] : [triggerSubMenuAction.value],\n        \"mouseEnterDelay\": subMenuOpenDelay.value,\n        \"mouseLeaveDelay\": subMenuCloseDelay.value,\n        \"onPopupVisibleChange\": onVisibleChange,\n        \"forceRender\": forceRender || forceSubMenuRender.value,\n        \"popupAnimation\": mergedMotion.value\n      }, {\n        popup: slots.popup,\n        default: slots.default\n      });\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}