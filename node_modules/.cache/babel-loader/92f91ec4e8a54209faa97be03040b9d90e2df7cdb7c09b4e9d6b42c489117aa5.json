{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nimport router from './router';\nimport store from './store';\nvar initAxios = axios.create({\n  baseURL: \"http://localhost:8082\",\n  timeout: 50000,\n  responseType: 'json'\n});\n\n// 前置拦截\n// initAxios.interceptors.request.use(config => {\n//   return config\n// })\n\ninitAxios.interceptors.response.use(function (response) {\n  var res = response.data;\n  console.log(\"=================\");\n  console.log(res);\n  console.log(\"=================\");\n  if (res.code === '200') {\n    return response;\n  } else if (res.code === '401') {\n    store.commit(\"REMOVE_INFO\");\n    router.push(\"/login\");\n  } else {\n    // Element.Message.error('错了哦，这是一条错误消息', {duration: 3 * 1000})\n    return Promise.reject(response.data.msg);\n  }\n}, function (error) {\n  // console.log(error)\n  if (error.response.data) {\n    error.message = error.response.data.msg;\n  }\n  // Element.Message.error(error.message, {duration: 3 * 1000})\n  return Promise.reject(error);\n});\nexport default initAxios;","map":{"version":3,"names":["axios","router","store","initAxios","create","baseURL","timeout","responseType","interceptors","response","use","res","data","console","log","code","commit","push","Promise","reject","msg","error","message"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/src/axios.js"],"sourcesContent":["import axios from 'axios'\nimport router from './router'\nimport store from './store'\n\nconst initAxios = axios.create({\n    baseURL: \"http://localhost:8082\",\n    timeout: 50000,\n    responseType:'json',\n})\n\n// 前置拦截\n// initAxios.interceptors.request.use(config => {\n//   return config\n// })\n\ninitAxios.interceptors.response.use((response) => {\n    let res = response.data;\n\n    console.log(\"=================\")\n    console.log(res)\n    console.log(\"=================\")\n    if (res.code === '200') {\n        return response\n    }else if(res.code === '401') {\n        store.commit(\"REMOVE_INFO\")\n        router.push(\"/login\")\n    } else {\n      // Element.Message.error('错了哦，这是一条错误消息', {duration: 3 * 1000})\n      return Promise.reject(response.data.msg)\n    }\n  },\n    (error) => {\n    // console.log(error)\n    if(error.response.data) {\n      error.message = error.response.data.msg\n    }\n    // Element.Message.error(error.message, {duration: 3 * 1000})\n    return Promise.reject(error)\n  }\n)\nexport default initAxios"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,SAAS;AAE3B,IAAMC,SAAS,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAE,uBAAuB;EAChCC,OAAO,EAAE,KAAK;EACdC,YAAY,EAAC;AACjB,CAAC,CAAC;;AAEF;AACA;AACA;AACA;;AAEAJ,SAAS,CAACK,YAAY,CAACC,QAAQ,CAACC,GAAG,CAAC,UAACD,QAAQ,EAAK;EAC9C,IAAIE,GAAG,GAAGF,QAAQ,CAACG,IAAI;EAEvBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChCD,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;EAChBE,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;EAChC,IAAIH,GAAG,CAACI,IAAI,KAAK,KAAK,EAAE;IACpB,OAAON,QAAQ;EACnB,CAAC,MAAK,IAAGE,GAAG,CAACI,IAAI,KAAK,KAAK,EAAE;IACzBb,KAAK,CAACc,MAAM,CAAC,aAAa,CAAC;IAC3Bf,MAAM,CAACgB,IAAI,CAAC,QAAQ,CAAC;EACzB,CAAC,MAAM;IACL;IACA,OAAOC,OAAO,CAACC,MAAM,CAACV,QAAQ,CAACG,IAAI,CAACQ,GAAG,CAAC;EAC1C;AACF,CAAC,EACC,UAACC,KAAK,EAAK;EACX;EACA,IAAGA,KAAK,CAACZ,QAAQ,CAACG,IAAI,EAAE;IACtBS,KAAK,CAACC,OAAO,GAAGD,KAAK,CAACZ,QAAQ,CAACG,IAAI,CAACQ,GAAG;EACzC;EACA;EACA,OAAOF,OAAO,CAACC,MAAM,CAACE,KAAK,CAAC;AAC9B,CACF,CAAC;AACD,eAAelB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}