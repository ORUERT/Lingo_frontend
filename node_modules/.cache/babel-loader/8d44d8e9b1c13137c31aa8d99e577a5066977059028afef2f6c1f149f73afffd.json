{"ast":null,"code":"import _toConsumableArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { computed } from 'vue';\n// recursion (flat tree structure)\nfunction flatRecord(record, indent, childrenColumnName, expandedKeys, getRowKey, index) {\n  var arr = [];\n  arr.push({\n    record: record,\n    indent: indent,\n    index: index\n  });\n  var key = getRowKey(record);\n  var expanded = expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.has(key);\n  if (record && Array.isArray(record[childrenColumnName]) && expanded) {\n    // expanded state, flat record\n    for (var i = 0; i < record[childrenColumnName].length; i += 1) {\n      var tempArr = flatRecord(record[childrenColumnName][i], indent + 1, childrenColumnName, expandedKeys, getRowKey, i);\n      arr.push.apply(arr, _toConsumableArray(tempArr));\n    }\n  }\n  return arr;\n}\n/**\n * flat tree data on expanded state\n *\n * @export\n * @template T\n * @param {*} data : table data\n * @param {string} childrenColumnName : 指定树形结构的列名\n * @param {Set<Key>} expandedKeys : 展开的行对应的keys\n * @param {GetRowKey<T>} getRowKey  : 获取当前rowKey的方法\n * @returns flattened data\n */\nexport default function useFlattenRecords(dataRef, childrenColumnNameRef, expandedKeysRef, getRowKey) {\n  var arr = computed(function () {\n    var childrenColumnName = childrenColumnNameRef.value;\n    var expandedKeys = expandedKeysRef.value;\n    var data = dataRef.value;\n    if (expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.size) {\n      var temp = [];\n      // collect flattened record\n      for (var i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i += 1) {\n        var record = data[i];\n        temp.push.apply(temp, _toConsumableArray(flatRecord(record, 0, childrenColumnName, expandedKeys, getRowKey.value, i)));\n      }\n      return temp;\n    }\n    return data === null || data === void 0 ? void 0 : data.map(function (item, index) {\n      return {\n        record: item,\n        indent: 0,\n        index: index\n      };\n    });\n  });\n  return arr;\n}","map":{"version":3,"names":["computed","flatRecord","record","indent","childrenColumnName","expandedKeys","getRowKey","index","arr","push","key","expanded","has","Array","isArray","i","length","tempArr","apply","_toConsumableArray","useFlattenRecords","dataRef","childrenColumnNameRef","expandedKeysRef","value","data","size","temp","map","item"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-table/hooks/useFlattenRecords.js"],"sourcesContent":["import { computed } from 'vue';\n// recursion (flat tree structure)\nfunction flatRecord(record, indent, childrenColumnName, expandedKeys, getRowKey, index) {\n  const arr = [];\n  arr.push({\n    record,\n    indent,\n    index\n  });\n  const key = getRowKey(record);\n  const expanded = expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.has(key);\n  if (record && Array.isArray(record[childrenColumnName]) && expanded) {\n    // expanded state, flat record\n    for (let i = 0; i < record[childrenColumnName].length; i += 1) {\n      const tempArr = flatRecord(record[childrenColumnName][i], indent + 1, childrenColumnName, expandedKeys, getRowKey, i);\n      arr.push(...tempArr);\n    }\n  }\n  return arr;\n}\n/**\n * flat tree data on expanded state\n *\n * @export\n * @template T\n * @param {*} data : table data\n * @param {string} childrenColumnName : 指定树形结构的列名\n * @param {Set<Key>} expandedKeys : 展开的行对应的keys\n * @param {GetRowKey<T>} getRowKey  : 获取当前rowKey的方法\n * @returns flattened data\n */\nexport default function useFlattenRecords(dataRef, childrenColumnNameRef, expandedKeysRef, getRowKey) {\n  const arr = computed(() => {\n    const childrenColumnName = childrenColumnNameRef.value;\n    const expandedKeys = expandedKeysRef.value;\n    const data = dataRef.value;\n    if (expandedKeys === null || expandedKeys === void 0 ? void 0 : expandedKeys.size) {\n      const temp = [];\n      // collect flattened record\n      for (let i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i += 1) {\n        const record = data[i];\n        temp.push(...flatRecord(record, 0, childrenColumnName, expandedKeys, getRowKey.value, i));\n      }\n      return temp;\n    }\n    return data === null || data === void 0 ? void 0 : data.map((item, index) => {\n      return {\n        record: item,\n        indent: 0,\n        index\n      };\n    });\n  });\n  return arr;\n}"],"mappings":";;;;AAAA,SAASA,QAAQ,QAAQ,KAAK;AAC9B;AACA,SAASC,UAAUA,CAACC,MAAM,EAAEC,MAAM,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,SAAS,EAAEC,KAAK,EAAE;EACtF,IAAMC,GAAG,GAAG,EAAE;EACdA,GAAG,CAACC,IAAI,CAAC;IACPP,MAAM,EAANA,MAAM;IACNC,MAAM,EAANA,MAAM;IACNI,KAAK,EAALA;EACF,CAAC,CAAC;EACF,IAAMG,GAAG,GAAGJ,SAAS,CAACJ,MAAM,CAAC;EAC7B,IAAMS,QAAQ,GAAGN,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACO,GAAG,CAACF,GAAG,CAAC;EAClG,IAAIR,MAAM,IAAIW,KAAK,CAACC,OAAO,CAACZ,MAAM,CAACE,kBAAkB,CAAC,CAAC,IAAIO,QAAQ,EAAE;IACnE;IACA,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,MAAM,CAACE,kBAAkB,CAAC,CAACY,MAAM,EAAED,CAAC,IAAI,CAAC,EAAE;MAC7D,IAAME,OAAO,GAAGhB,UAAU,CAACC,MAAM,CAACE,kBAAkB,CAAC,CAACW,CAAC,CAAC,EAAEZ,MAAM,GAAG,CAAC,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,SAAS,EAAES,CAAC,CAAC;MACrHP,GAAG,CAACC,IAAI,CAAAS,KAAA,CAARV,GAAG,EAAAW,kBAAA,CAASF,OAAO,EAAC;IACtB;EACF;EACA,OAAOT,GAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASY,iBAAiBA,CAACC,OAAO,EAAEC,qBAAqB,EAAEC,eAAe,EAAEjB,SAAS,EAAE;EACpG,IAAME,GAAG,GAAGR,QAAQ,CAAC,YAAM;IACzB,IAAMI,kBAAkB,GAAGkB,qBAAqB,CAACE,KAAK;IACtD,IAAMnB,YAAY,GAAGkB,eAAe,CAACC,KAAK;IAC1C,IAAMC,IAAI,GAAGJ,OAAO,CAACG,KAAK;IAC1B,IAAInB,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACqB,IAAI,EAAE;MACjF,IAAMC,IAAI,GAAG,EAAE;MACf;MACA,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIU,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACT,MAAM,CAAC,EAAED,CAAC,IAAI,CAAC,EAAE;QACrF,IAAMb,MAAM,GAAGuB,IAAI,CAACV,CAAC,CAAC;QACtBY,IAAI,CAAClB,IAAI,CAAAS,KAAA,CAATS,IAAI,EAAAR,kBAAA,CAASlB,UAAU,CAACC,MAAM,EAAE,CAAC,EAAEE,kBAAkB,EAAEC,YAAY,EAAEC,SAAS,CAACkB,KAAK,EAAET,CAAC,CAAC,EAAC;MAC3F;MACA,OAAOY,IAAI;IACb;IACA,OAAOF,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACG,GAAG,CAAC,UAACC,IAAI,EAAEtB,KAAK,EAAK;MAC3E,OAAO;QACLL,MAAM,EAAE2B,IAAI;QACZ1B,MAAM,EAAE,CAAC;QACTI,KAAK,EAALA;MACF,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,CAAC;EACF,OAAOC,GAAG;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}