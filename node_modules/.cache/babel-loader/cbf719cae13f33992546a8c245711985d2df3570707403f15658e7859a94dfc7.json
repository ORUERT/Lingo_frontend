{"ast":null,"code":"import _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport { createVNode as _createVNode } from \"vue\";\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport { useInjectPanel } from '../../PanelContext';\nimport classNames from '../../../_util/classNames';\nimport { ref, onBeforeUnmount, watch, defineComponent, nextTick } from 'vue';\nexport default defineComponent({\n  name: 'TimeUnitColumn',\n  props: ['prefixCls', 'units', 'onSelect', 'value', 'active', 'hideDisabledOptions'],\n  setup: function setup(props) {\n    var _useInjectPanel = useInjectPanel(),\n      open = _useInjectPanel.open;\n    var ulRef = ref(null);\n    var liRefs = ref(new Map());\n    var scrollRef = ref();\n    watch(function () {\n      return props.value;\n    }, function () {\n      var li = liRefs.value.get(props.value);\n      if (li && open.value !== false) {\n        scrollTo(ulRef.value, li.offsetTop, 120);\n      }\n    });\n    onBeforeUnmount(function () {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n    });\n    watch(open, function () {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n      nextTick(function () {\n        if (open.value) {\n          var li = liRefs.value.get(props.value);\n          if (li) {\n            scrollRef.value = waitElementReady(li, function () {\n              scrollTo(ulRef.value, li.offsetTop, 0);\n            });\n          }\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n        units = props.units,\n        onSelect = props.onSelect,\n        value = props.value,\n        active = props.active,\n        hideDisabledOptions = props.hideDisabledOptions;\n      var cellPrefixCls = \"\".concat(prefixCls, \"-cell\");\n      return _createVNode(\"ul\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-column\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-active\"), active)),\n        \"ref\": ulRef,\n        \"style\": {\n          position: 'relative'\n        }\n      }, [units.map(function (unit) {\n        var _classNames2;\n        if (hideDisabledOptions && unit.disabled) {\n          return null;\n        }\n        return _createVNode(\"li\", {\n          \"key\": unit.value,\n          \"ref\": function ref(element) {\n            liRefs.value.set(unit.value, element);\n          },\n          \"class\": classNames(cellPrefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-disabled\"), unit.disabled), _defineProperty(_classNames2, \"\".concat(cellPrefixCls, \"-selected\"), value === unit.value), _classNames2)),\n          \"onClick\": function onClick() {\n            if (unit.disabled) {\n              return;\n            }\n            onSelect(unit.value);\n          }\n        }, [_createVNode(\"div\", {\n          \"class\": \"\".concat(cellPrefixCls, \"-inner\")\n        }, [unit.label])]);\n      })]);\n    };\n  }\n});","map":{"version":3,"names":["createVNode","_createVNode","scrollTo","waitElementReady","useInjectPanel","classNames","ref","onBeforeUnmount","watch","defineComponent","nextTick","name","props","setup","_useInjectPanel","open","ulRef","liRefs","Map","scrollRef","value","li","get","offsetTop","_a","call","immediate","flush","prefixCls","units","onSelect","active","hideDisabledOptions","cellPrefixCls","concat","_defineProperty","position","map","unit","_classNames2","disabled","element","set","onClick","label"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/vc-picker/panels/TimePanel/TimeUnitColumn.js"],"sourcesContent":["import { createVNode as _createVNode } from \"vue\";\nimport { scrollTo, waitElementReady } from '../../utils/uiUtil';\nimport { useInjectPanel } from '../../PanelContext';\nimport classNames from '../../../_util/classNames';\nimport { ref, onBeforeUnmount, watch, defineComponent, nextTick } from 'vue';\nexport default defineComponent({\n  name: 'TimeUnitColumn',\n  props: ['prefixCls', 'units', 'onSelect', 'value', 'active', 'hideDisabledOptions'],\n  setup(props) {\n    const {\n      open\n    } = useInjectPanel();\n    const ulRef = ref(null);\n    const liRefs = ref(new Map());\n    const scrollRef = ref();\n    watch(() => props.value, () => {\n      const li = liRefs.value.get(props.value);\n      if (li && open.value !== false) {\n        scrollTo(ulRef.value, li.offsetTop, 120);\n      }\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n    });\n    watch(open, () => {\n      var _a;\n      (_a = scrollRef.value) === null || _a === void 0 ? void 0 : _a.call(scrollRef);\n      nextTick(() => {\n        if (open.value) {\n          const li = liRefs.value.get(props.value);\n          if (li) {\n            scrollRef.value = waitElementReady(li, () => {\n              scrollTo(ulRef.value, li.offsetTop, 0);\n            });\n          }\n        }\n      });\n    }, {\n      immediate: true,\n      flush: 'post'\n    });\n    return () => {\n      const {\n        prefixCls,\n        units,\n        onSelect,\n        value,\n        active,\n        hideDisabledOptions\n      } = props;\n      const cellPrefixCls = `${prefixCls}-cell`;\n      return _createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-column`, {\n          [`${prefixCls}-column-active`]: active\n        }),\n        \"ref\": ulRef,\n        \"style\": {\n          position: 'relative'\n        }\n      }, [units.map(unit => {\n        if (hideDisabledOptions && unit.disabled) {\n          return null;\n        }\n        return _createVNode(\"li\", {\n          \"key\": unit.value,\n          \"ref\": element => {\n            liRefs.value.set(unit.value, element);\n          },\n          \"class\": classNames(cellPrefixCls, {\n            [`${cellPrefixCls}-disabled`]: unit.disabled,\n            [`${cellPrefixCls}-selected`]: value === unit.value\n          }),\n          \"onClick\": () => {\n            if (unit.disabled) {\n              return;\n            }\n            onSelect(unit.value);\n          }\n        }, [_createVNode(\"div\", {\n          \"class\": `${cellPrefixCls}-inner`\n        }, [unit.label])]);\n      })]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}