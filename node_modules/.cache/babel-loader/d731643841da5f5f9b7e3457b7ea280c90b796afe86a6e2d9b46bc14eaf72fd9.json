{"ast":null,"code":"import _slicedToArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { computed, defineComponent, getCurrentInstance, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport useConfigInject from '../../config-provider/hooks/useConfigInject';\nimport isVisible from '../../vc-util/Dom/isVisible';\nimport classNames from '../classNames';\nimport { findDOMNode } from '../props-util';\nimport useStyle from './style';\nimport useWave from './useWave';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Wave',\n  props: {\n    disabled: Boolean\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var instance = getCurrentInstance();\n    var _useConfigInject = useConfigInject('wave', props),\n      prefixCls = _useConfigInject.prefixCls;\n    // ============================== Style ===============================\n    var _useStyle = useStyle(prefixCls),\n      _useStyle2 = _slicedToArray(_useStyle, 2),\n      hashId = _useStyle2[1];\n    // =============================== Wave ===============================\n    var showWave = useWave(instance, computed(function () {\n      return classNames(prefixCls.value, hashId.value);\n    }));\n    var onClick;\n    var clear = function clear() {\n      var node = findDOMNode(instance);\n      node.removeEventListener('click', onClick, true);\n    };\n    onMounted(function () {\n      watch(function () {\n        return props.disabled;\n      }, function () {\n        clear();\n        nextTick(function () {\n          var node = findDOMNode(instance);\n          if (!node || node.nodeType !== 1 || props.disabled) {\n            return;\n          }\n          // Click handler\n          var onClick = function onClick(e) {\n            // Fix radio button click twice\n            if (e.target.tagName === 'INPUT' || !isVisible(e.target) ||\n            // No need wave\n            !node.getAttribute || node.getAttribute('disabled') || node.disabled || node.className.includes('disabled') || node.className.includes('-leave')) {\n              return;\n            }\n            showWave();\n          };\n          // Bind events\n          node.addEventListener('click', onClick, true);\n        });\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    onBeforeUnmount(function () {\n      clear();\n    });\n    return function () {\n      var _a;\n      // ============================== Render ==============================\n      var children = (_a = slots[\"default\"]) === null || _a === void 0 ? void 0 : _a.call(slots)[0];\n      return children;\n    };\n  }\n});","map":{"version":3,"names":["computed","defineComponent","getCurrentInstance","nextTick","onBeforeUnmount","onMounted","watch","useConfigInject","isVisible","classNames","findDOMNode","useStyle","useWave","compatConfig","MODE","name","props","disabled","Boolean","setup","_ref","slots","instance","_useConfigInject","prefixCls","_useStyle","_useStyle2","_slicedToArray","hashId","showWave","value","onClick","clear","node","removeEventListener","nodeType","e","target","tagName","getAttribute","className","includes","addEventListener","immediate","flush","_a","children","call"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/_util/wave/index.js"],"sourcesContent":["import { computed, defineComponent, getCurrentInstance, nextTick, onBeforeUnmount, onMounted, watch } from 'vue';\nimport useConfigInject from '../../config-provider/hooks/useConfigInject';\nimport isVisible from '../../vc-util/Dom/isVisible';\nimport classNames from '../classNames';\nimport { findDOMNode } from '../props-util';\nimport useStyle from './style';\nimport useWave from './useWave';\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'Wave',\n  props: {\n    disabled: Boolean\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const instance = getCurrentInstance();\n    const {\n      prefixCls\n    } = useConfigInject('wave', props);\n    // ============================== Style ===============================\n    const [, hashId] = useStyle(prefixCls);\n    // =============================== Wave ===============================\n    const showWave = useWave(instance, computed(() => classNames(prefixCls.value, hashId.value)));\n    let onClick;\n    const clear = () => {\n      const node = findDOMNode(instance);\n      node.removeEventListener('click', onClick, true);\n    };\n    onMounted(() => {\n      watch(() => props.disabled, () => {\n        clear();\n        nextTick(() => {\n          const node = findDOMNode(instance);\n          if (!node || node.nodeType !== 1 || props.disabled) {\n            return;\n          }\n          // Click handler\n          const onClick = e => {\n            // Fix radio button click twice\n            if (e.target.tagName === 'INPUT' || !isVisible(e.target) ||\n            // No need wave\n            !node.getAttribute || node.getAttribute('disabled') || node.disabled || node.className.includes('disabled') || node.className.includes('-leave')) {\n              return;\n            }\n            showWave();\n          };\n          // Bind events\n          node.addEventListener('click', onClick, true);\n        });\n      }, {\n        immediate: true,\n        flush: 'post'\n      });\n    });\n    onBeforeUnmount(() => {\n      clear();\n    });\n    return () => {\n      var _a;\n      // ============================== Render ==============================\n      const children = (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots)[0];\n      return children;\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}