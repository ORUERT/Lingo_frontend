{"ast":null,"code":"import _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _toConsumableArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport var tabNavListProps = function tabNavListProps() {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: Object,\n  emits: ['tabClick', 'tabScroll'],\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var _useInjectTabs = useInjectTabs(),\n      tabs = _useInjectTabs.tabs,\n      prefixCls = _useInjectTabs.prefixCls;\n    var tabsWrapperRef = shallowRef();\n    var tabListRef = shallowRef();\n    var operationsRef = shallowRef();\n    var innerAddButtonRef = shallowRef();\n    var _useRefs = useRefs(),\n      _useRefs2 = _slicedToArray(_useRefs, 2),\n      setRef = _useRefs2[0],\n      btnRefs = _useRefs2[1];\n    var tabPositionTopOrBottom = computed(function () {\n      return props.tabPosition === 'top' || props.tabPosition === 'bottom';\n    });\n    var _useSyncState = useSyncState(0, function (next, prev) {\n        if (tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'left' : 'right'\n          });\n        }\n      }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n    var _useSyncState3 = useSyncState(0, function (next, prev) {\n        if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n          props.onTabScroll({\n            direction: next > prev ? 'top' : 'bottom'\n          });\n        }\n      }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n    var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      wrapperScrollWidth = _useState2[0],\n      setWrapperScrollWidth = _useState2[1];\n    var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      wrapperScrollHeight = _useState4[0],\n      setWrapperScrollHeight = _useState4[1];\n    var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      wrapperWidth = _useState6[0],\n      setWrapperWidth = _useState6[1];\n    var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperHeight = _useState8[0],\n      setWrapperHeight = _useState8[1];\n    var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addWidth = _useState10[0],\n      setAddWidth = _useState10[1];\n    var _useState11 = useState(0),\n      _useState12 = _slicedToArray(_useState11, 2),\n      addHeight = _useState12[0],\n      setAddHeight = _useState12[1];\n    var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n    var tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    var operationsHiddenClassName = computed(function () {\n      return \"\".concat(prefixCls.value, \"-nav-operations-hidden\");\n    });\n    var transformMin = shallowRef(0);\n    var transformMax = shallowRef(0);\n    watchEffect(function () {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    var alignInRange = function alignInRange(value) {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    var touchMovingRef = shallowRef();\n    var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      lockAnimation = _useState14[0],\n      setLockAnimation = _useState14[1];\n    var doLockAnimation = function doLockAnimation() {\n      setLockAnimation(Date.now());\n    };\n    var clearTouchMoving = function clearTouchMoving() {\n      clearTimeout(touchMovingRef.value);\n    };\n    var doMove = function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, function () {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(function () {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    var scrollToTab = function scrollToTab() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      var tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        var newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        var _newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          _newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          _newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(_newTransform));\n      }\n    };\n    var visibleStart = shallowRef(0);\n    var visibleEnd = shallowRef(0);\n    watchEffect(function () {\n      var _ref5;\n      var unit;\n      var position;\n      var transformSize;\n      var basicSize;\n      var tabContentSize;\n      var addSize;\n      var tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      var mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      var tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        var _ref4;\n        return _ref4 = [0, 0], visibleStart.value = _ref4[0], visibleEnd.value = _ref4[1], _ref4;\n      }\n      var len = tabsVal.length;\n      var endIndex = len;\n      for (var i = 0; i < len; i += 1) {\n        var offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      var startIndex = 0;\n      for (var _i = len - 1; _i >= 0; _i -= 1) {\n        var _offset = tabOffsetsValue.get(tabsVal[_i].key) || DEFAULT_SIZE;\n        if (_offset[position] < transformSize) {\n          startIndex = _i + 1;\n          break;\n        }\n      }\n      return _ref5 = [startIndex, endIndex], visibleStart.value = _ref5[0], visibleEnd.value = _ref5[1], _ref5;\n    });\n    var onListHolderResize = function onListHolderResize() {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      var offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      var offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      var addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      var newAddWidth = addDom.offsetWidth || 0;\n      var newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      var newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      var newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(function () {\n        var newSizes = new Map();\n        tabs.value.forEach(function (_ref2) {\n          var key = _ref2.key;\n          var btnRef = btnRefs.value.get(key);\n          var btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    var hiddenTabs = computed(function () {\n      return [].concat(_toConsumableArray(tabs.value.slice(0, visibleStart.value)), _toConsumableArray(tabs.value.slice(visibleEnd.value + 1)));\n    });\n    // =================== Link & Operations ===================\n    var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      inkStyle = _useState16[0],\n      setInkStyle = _useState16[1];\n    var activeTabOffset = computed(function () {\n      return tabOffsets.value.get(props.activeKey);\n    });\n    // Delay set ink style to avoid remove tab blink\n    var inkBarRafRef = shallowRef();\n    var cleanInkBarRaf = function cleanInkBarRaf() {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, function () {\n      return props.rtl;\n    }], function () {\n      var newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(function () {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([function () {\n      return props.activeKey;\n    }, activeTabOffset, tabOffsets, tabPositionTopOrBottom], function () {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([function () {\n      return props.rtl;\n    }, function () {\n      return props.tabBarGutter;\n    }, function () {\n      return props.activeKey;\n    }, function () {\n      return tabs.value;\n    }], function () {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    var ExtraContent = function ExtraContent(_ref3) {\n      var position = _ref3.position,\n        prefixCls = _ref3.prefixCls,\n        extra = _ref3.extra;\n      if (!extra) return null;\n      var content = extra === null || extra === void 0 ? void 0 : extra({\n        position: position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": \"\".concat(prefixCls, \"-extra-content\")\n      }, [content]) : null;\n    };\n    onBeforeUnmount(function () {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return function () {\n      var id = props.id,\n        animated = props.animated,\n        activeKey = props.activeKey,\n        rtl = props.rtl,\n        editable = props.editable,\n        locale = props.locale,\n        tabPosition = props.tabPosition,\n        tabBarGutter = props.tabBarGutter,\n        onTabClick = props.onTabClick;\n      var className = attrs[\"class\"],\n        style = attrs.style;\n      var pre = prefixCls.value;\n      // ========================= Render ========================\n      var hasDropdown = !!hiddenTabs.value.length;\n      var wrapPrefix = \"\".concat(pre, \"-nav-wrap\");\n      var pingLeft;\n      var pingRight;\n      var pingTop;\n      var pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      var tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? \"\".concat(tabBarGutter, \"px\") : tabBarGutter;\n      }\n      var tabNodes = tabs.value.map(function (tab, i) {\n        var key = tab.key;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": function onClick(e) {\n            onTabClick(key, e);\n          },\n          \"onFocus\": function onFocus() {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(\"\".concat(pre, \"-nav\"), className),\n        \"style\": style,\n        \"onKeydown\": function onKeydown() {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        \"default\": function _default() {\n          var _classNames;\n          return [_createVNode(\"div\", {\n            \"class\": classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n            \"ref\": tabsWrapperRef\n          }, [_createVNode(ResizeObserver, {\n            \"onResize\": onListHolderResize\n          }, {\n            \"default\": function _default() {\n              return [_createVNode(\"div\", {\n                \"ref\": tabListRef,\n                \"class\": \"\".concat(pre, \"-nav-list\"),\n                \"style\": {\n                  transform: \"translate(\".concat(transformLeft.value, \"px, \").concat(transformTop.value, \"px)\"),\n                  transition: lockAnimation.value ? 'none' : undefined\n                }\n              }, [tabNodes, _createVNode(AddButton, {\n                \"ref\": innerAddButtonRef,\n                \"prefixCls\": pre,\n                \"locale\": locale,\n                \"editable\": editable,\n                \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n                  visibility: hasDropdown ? 'hidden' : null\n                })\n              }, null), _createVNode(\"div\", {\n                \"class\": classNames(\"\".concat(pre, \"-ink-bar\"), _defineProperty({}, \"\".concat(pre, \"-ink-bar-animated\"), animated.inkBar)),\n                \"style\": inkStyle.value\n              }, null)])];\n            }\n          })])];\n        }\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});","map":{"version":3,"names":["_objectSpread","_extends","resolveDirective","_resolveDirective","createVNode","_createVNode","useRafState","TabNode","useOffsets","OperationNode","useInjectTabs","useTouchMove","AddButton","objectType","functionType","shallowRef","onBeforeUnmount","defineComponent","watch","watchEffect","computed","PropTypes","useSyncState","useState","raf","classNames","ResizeObserver","toPx","useRefs","pick","DEFAULT_SIZE","width","height","left","top","right","tabNavListProps","id","type","String","tabPosition","activeKey","Number","rtl","Boolean","animated","editable","moreIcon","any","moreTransitionName","mobile","tabBarGutter","renderTabBar","Function","locale","popupClassName","getPopupContainer","onTabClick","onTabScroll","compatConfig","MODE","name","inheritAttrs","props","slots","Object","emits","setup","_ref","attrs","_useInjectTabs","tabs","prefixCls","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useRefs","_useRefs2","_slicedToArray","setRef","btnRefs","tabPositionTopOrBottom","_useSyncState","next","prev","value","direction","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","_useState","_useState2","wrapperScrollWidth","setWrapperScrollWidth","_useState3","_useState4","wrapperScrollHeight","setWrapperScrollHeight","_useState5","_useState6","wrapperWidth","setWrapperWidth","_useState7","_useState8","wrapperHeight","setWrapperHeight","_useState9","_useState10","addWidth","setAddWidth","_useState11","_useState12","addHeight","setAddHeight","_useRafState","Map","_useRafState2","tabSizes","setTabSizes","tabOffsets","operationsHiddenClassName","concat","transformMin","transformMax","Math","min","max","alignInRange","touchMovingRef","_useState13","_useState14","lockAnimation","setLockAnimation","doLockAnimation","Date","now","clearTouchMoving","clearTimeout","doMove","setState","offset","newValue","offsetX","offsetY","setTimeout","scrollToTab","key","arguments","length","undefined","tabOffset","get","newTransform","visibleStart","visibleEnd","_ref5","unit","position","transformSize","basicSize","tabContentSize","addSize","tabOffsetsValue","includes","abs","mergedBasicSize","tabsVal","_ref4","len","endIndex","i","startIndex","onListHolderResize","_a","_b","_c","_d","_e","offsetWidth","offsetHeight","addDom","$el","newAddWidth","newAddHeight","newWrapperScrollWidth","newWrapperScrollHeight","newSizes","forEach","_ref2","btnRef","btnNode","set","offsetLeft","offsetTop","hiddenTabs","_toConsumableArray","slice","_useState15","_useState16","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","cancel","newInkStyle","flush","ExtraContent","_ref3","extra","content","className","style","pre","hasDropdown","wrapPrefix","pingLeft","pingRight","pingTop","pingBottom","tabNodeStyle","marginTop","tabNodes","map","tab","closable","removeAriaLabel","onClick","e","onFocus","scrollLeft","scrollTop","onKeydown","leftExtra","_default","_classNames","_defineProperty","transform","transition","visibility","inkBar","rightExtra","tabBarExtraContent"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/tabs/src/TabNavList/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { useRafState } from '../hooks/useRaf';\nimport TabNode from './TabNode';\nimport useOffsets from '../hooks/useOffsets';\nimport OperationNode from './OperationNode';\nimport { useInjectTabs } from '../TabContext';\nimport useTouchMove from '../hooks/useTouchMove';\nimport AddButton from './AddButton';\nimport { objectType, functionType } from '../../../_util/type';\nimport { shallowRef, onBeforeUnmount, defineComponent, watch, watchEffect, computed } from 'vue';\nimport PropTypes from '../../../_util/vue-types';\nimport useSyncState from '../hooks/useSyncState';\nimport useState from '../../../_util/hooks/useState';\nimport raf from '../../../_util/raf';\nimport classNames from '../../../_util/classNames';\nimport ResizeObserver from '../../../vc-resize-observer';\nimport { toPx } from '../../../_util/util';\nimport useRefs from '../../../_util/hooks/useRefs';\nimport pick from 'lodash-es/pick';\nconst DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport const tabNavListProps = () => {\n  return {\n    id: {\n      type: String\n    },\n    tabPosition: {\n      type: String\n    },\n    activeKey: {\n      type: [String, Number]\n    },\n    rtl: {\n      type: Boolean\n    },\n    animated: objectType(),\n    editable: objectType(),\n    moreIcon: PropTypes.any,\n    moreTransitionName: {\n      type: String\n    },\n    mobile: {\n      type: Boolean\n    },\n    tabBarGutter: {\n      type: Number\n    },\n    renderTabBar: {\n      type: Function\n    },\n    locale: objectType(),\n    popupClassName: String,\n    getPopupContainer: functionType(),\n    onTabClick: {\n      type: Function\n    },\n    onTabScroll: {\n      type: Function\n    }\n  };\n};\nexport default defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'TabNavList',\n  inheritAttrs: false,\n  props: tabNavListProps(),\n  slots: Object,\n  emits: ['tabClick', 'tabScroll'],\n  setup(props, _ref) {\n    let {\n      attrs,\n      slots\n    } = _ref;\n    const {\n      tabs,\n      prefixCls\n    } = useInjectTabs();\n    const tabsWrapperRef = shallowRef();\n    const tabListRef = shallowRef();\n    const operationsRef = shallowRef();\n    const innerAddButtonRef = shallowRef();\n    const [setRef, btnRefs] = useRefs();\n    const tabPositionTopOrBottom = computed(() => props.tabPosition === 'top' || props.tabPosition === 'bottom');\n    const [transformLeft, setTransformLeft] = useSyncState(0, (next, prev) => {\n      if (tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'left' : 'right'\n        });\n      }\n    });\n    const [transformTop, setTransformTop] = useSyncState(0, (next, prev) => {\n      if (!tabPositionTopOrBottom.value && props.onTabScroll) {\n        props.onTabScroll({\n          direction: next > prev ? 'top' : 'bottom'\n        });\n      }\n    });\n    const [wrapperScrollWidth, setWrapperScrollWidth] = useState(0);\n    const [wrapperScrollHeight, setWrapperScrollHeight] = useState(0);\n    const [wrapperWidth, setWrapperWidth] = useState(null);\n    const [wrapperHeight, setWrapperHeight] = useState(null);\n    const [addWidth, setAddWidth] = useState(0);\n    const [addHeight, setAddHeight] = useState(0);\n    const [tabSizes, setTabSizes] = useRafState(new Map());\n    const tabOffsets = useOffsets(tabs, tabSizes);\n    // ========================== Util =========================\n    const operationsHiddenClassName = computed(() => `${prefixCls.value}-nav-operations-hidden`);\n    const transformMin = shallowRef(0);\n    const transformMax = shallowRef(0);\n    watchEffect(() => {\n      if (!tabPositionTopOrBottom.value) {\n        transformMin.value = Math.min(0, wrapperHeight.value - wrapperScrollHeight.value);\n        transformMax.value = 0;\n      } else if (props.rtl) {\n        transformMin.value = 0;\n        transformMax.value = Math.max(0, wrapperScrollWidth.value - wrapperWidth.value);\n      } else {\n        transformMin.value = Math.min(0, wrapperWidth.value - wrapperScrollWidth.value);\n        transformMax.value = 0;\n      }\n    });\n    const alignInRange = value => {\n      if (value < transformMin.value) {\n        return transformMin.value;\n      }\n      if (value > transformMax.value) {\n        return transformMax.value;\n      }\n      return value;\n    };\n    // ========================= Mobile ========================\n    const touchMovingRef = shallowRef();\n    const [lockAnimation, setLockAnimation] = useState();\n    const doLockAnimation = () => {\n      setLockAnimation(Date.now());\n    };\n    const clearTouchMoving = () => {\n      clearTimeout(touchMovingRef.value);\n    };\n    const doMove = (setState, offset) => {\n      setState(value => {\n        const newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    };\n    useTouchMove(tabsWrapperRef, (offsetX, offsetY) => {\n      if (tabPositionTopOrBottom.value) {\n        // Skip scroll if place is enough\n        if (wrapperWidth.value >= wrapperScrollWidth.value) {\n          return false;\n        }\n        doMove(setTransformLeft, offsetX);\n      } else {\n        if (wrapperHeight.value >= wrapperScrollHeight.value) {\n          return false;\n        }\n        doMove(setTransformTop, offsetY);\n      }\n      clearTouchMoving();\n      doLockAnimation();\n      return true;\n    });\n    watch(lockAnimation, () => {\n      clearTouchMoving();\n      if (lockAnimation.value) {\n        touchMovingRef.value = setTimeout(() => {\n          setLockAnimation(0);\n        }, 100);\n      }\n    });\n    // ========================= Scroll ========================\n    const scrollToTab = function () {\n      let key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : props.activeKey;\n      const tabOffset = tabOffsets.value.get(key) || {\n        width: 0,\n        height: 0,\n        left: 0,\n        right: 0,\n        top: 0\n      };\n      if (tabPositionTopOrBottom.value) {\n        // ============ Align with top & bottom ============\n        let newTransform = transformLeft.value;\n        // RTL\n        if (props.rtl) {\n          if (tabOffset.right < transformLeft.value) {\n            newTransform = tabOffset.right;\n          } else if (tabOffset.right + tabOffset.width > transformLeft.value + wrapperWidth.value) {\n            newTransform = tabOffset.right + tabOffset.width - wrapperWidth.value;\n          }\n        }\n        // LTR\n        else if (tabOffset.left < -transformLeft.value) {\n          newTransform = -tabOffset.left;\n        } else if (tabOffset.left + tabOffset.width > -transformLeft.value + wrapperWidth.value) {\n          newTransform = -(tabOffset.left + tabOffset.width - wrapperWidth.value);\n        }\n        setTransformTop(0);\n        setTransformLeft(alignInRange(newTransform));\n      } else {\n        // ============ Align with left & right ============\n        let newTransform = transformTop.value;\n        if (tabOffset.top < -transformTop.value) {\n          newTransform = -tabOffset.top;\n        } else if (tabOffset.top + tabOffset.height > -transformTop.value + wrapperHeight.value) {\n          newTransform = -(tabOffset.top + tabOffset.height - wrapperHeight.value);\n        }\n        setTransformLeft(0);\n        setTransformTop(alignInRange(newTransform));\n      }\n    };\n    const visibleStart = shallowRef(0);\n    const visibleEnd = shallowRef(0);\n    watchEffect(() => {\n      let unit;\n      let position;\n      let transformSize;\n      let basicSize;\n      let tabContentSize;\n      let addSize;\n      const tabOffsetsValue = tabOffsets.value;\n      if (['top', 'bottom'].includes(props.tabPosition)) {\n        unit = 'width';\n        basicSize = wrapperWidth.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addWidth.value;\n        position = props.rtl ? 'right' : 'left';\n        transformSize = Math.abs(transformLeft.value);\n      } else {\n        unit = 'height';\n        basicSize = wrapperHeight.value;\n        tabContentSize = wrapperScrollWidth.value;\n        addSize = addHeight.value;\n        position = 'top';\n        transformSize = -transformTop.value;\n      }\n      let mergedBasicSize = basicSize;\n      if (tabContentSize + addSize > basicSize && tabContentSize < basicSize) {\n        mergedBasicSize = basicSize - addSize;\n      }\n      const tabsVal = tabs.value;\n      if (!tabsVal.length) {\n        return [visibleStart.value, visibleEnd.value] = [0, 0];\n      }\n      const len = tabsVal.length;\n      let endIndex = len;\n      for (let i = 0; i < len; i += 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] + offset[unit] > transformSize + mergedBasicSize) {\n          endIndex = i - 1;\n          break;\n        }\n      }\n      let startIndex = 0;\n      for (let i = len - 1; i >= 0; i -= 1) {\n        const offset = tabOffsetsValue.get(tabsVal[i].key) || DEFAULT_SIZE;\n        if (offset[position] < transformSize) {\n          startIndex = i + 1;\n          break;\n        }\n      }\n      return [visibleStart.value, visibleEnd.value] = [startIndex, endIndex];\n    });\n    const onListHolderResize = () => {\n      var _a, _b, _c, _d, _e;\n      // Update wrapper records\n      const offsetWidth = ((_a = tabsWrapperRef.value) === null || _a === void 0 ? void 0 : _a.offsetWidth) || 0;\n      const offsetHeight = ((_b = tabsWrapperRef.value) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n      const addDom = ((_c = innerAddButtonRef.value) === null || _c === void 0 ? void 0 : _c.$el) || {};\n      const newAddWidth = addDom.offsetWidth || 0;\n      const newAddHeight = addDom.offsetHeight || 0;\n      setWrapperWidth(offsetWidth);\n      setWrapperHeight(offsetHeight);\n      setAddWidth(newAddWidth);\n      setAddHeight(newAddHeight);\n      const newWrapperScrollWidth = (((_d = tabListRef.value) === null || _d === void 0 ? void 0 : _d.offsetWidth) || 0) - newAddWidth;\n      const newWrapperScrollHeight = (((_e = tabListRef.value) === null || _e === void 0 ? void 0 : _e.offsetHeight) || 0) - newAddHeight;\n      setWrapperScrollWidth(newWrapperScrollWidth);\n      setWrapperScrollHeight(newWrapperScrollHeight);\n      // Update buttons records\n      setTabSizes(() => {\n        const newSizes = new Map();\n        tabs.value.forEach(_ref2 => {\n          let {\n            key\n          } = _ref2;\n          const btnRef = btnRefs.value.get(key);\n          const btnNode = (btnRef === null || btnRef === void 0 ? void 0 : btnRef.$el) || btnRef;\n          if (btnNode) {\n            newSizes.set(key, {\n              width: btnNode.offsetWidth,\n              height: btnNode.offsetHeight,\n              left: btnNode.offsetLeft,\n              top: btnNode.offsetTop\n            });\n          }\n        });\n        return newSizes;\n      });\n    };\n    // ======================== Dropdown =======================\n    const hiddenTabs = computed(() => [...tabs.value.slice(0, visibleStart.value), ...tabs.value.slice(visibleEnd.value + 1)]);\n    // =================== Link & Operations ===================\n    const [inkStyle, setInkStyle] = useState();\n    const activeTabOffset = computed(() => tabOffsets.value.get(props.activeKey));\n    // Delay set ink style to avoid remove tab blink\n    const inkBarRafRef = shallowRef();\n    const cleanInkBarRaf = () => {\n      raf.cancel(inkBarRafRef.value);\n    };\n    watch([activeTabOffset, tabPositionTopOrBottom, () => props.rtl], () => {\n      const newInkStyle = {};\n      if (activeTabOffset.value) {\n        if (tabPositionTopOrBottom.value) {\n          if (props.rtl) {\n            newInkStyle.right = toPx(activeTabOffset.value.right);\n          } else {\n            newInkStyle.left = toPx(activeTabOffset.value.left);\n          }\n          newInkStyle.width = toPx(activeTabOffset.value.width);\n        } else {\n          newInkStyle.top = toPx(activeTabOffset.value.top);\n          newInkStyle.height = toPx(activeTabOffset.value.height);\n        }\n      }\n      cleanInkBarRaf();\n      inkBarRafRef.value = raf(() => {\n        setInkStyle(newInkStyle);\n      });\n    });\n    watch([() => props.activeKey, activeTabOffset, tabOffsets, tabPositionTopOrBottom], () => {\n      scrollToTab();\n    }, {\n      flush: 'post'\n    });\n    watch([() => props.rtl, () => props.tabBarGutter, () => props.activeKey, () => tabs.value], () => {\n      onListHolderResize();\n    }, {\n      flush: 'post'\n    });\n    const ExtraContent = _ref3 => {\n      let {\n        position,\n        prefixCls,\n        extra\n      } = _ref3;\n      if (!extra) return null;\n      const content = extra === null || extra === void 0 ? void 0 : extra({\n        position\n      });\n      return content ? _createVNode(\"div\", {\n        \"class\": `${prefixCls}-extra-content`\n      }, [content]) : null;\n    };\n    onBeforeUnmount(() => {\n      clearTouchMoving();\n      cleanInkBarRaf();\n    });\n    return () => {\n      const {\n        id,\n        animated,\n        activeKey,\n        rtl,\n        editable,\n        locale,\n        tabPosition,\n        tabBarGutter,\n        onTabClick\n      } = props;\n      const {\n        class: className,\n        style\n      } = attrs;\n      const pre = prefixCls.value;\n      // ========================= Render ========================\n      const hasDropdown = !!hiddenTabs.value.length;\n      const wrapPrefix = `${pre}-nav-wrap`;\n      let pingLeft;\n      let pingRight;\n      let pingTop;\n      let pingBottom;\n      if (tabPositionTopOrBottom.value) {\n        if (rtl) {\n          pingRight = transformLeft.value > 0;\n          pingLeft = transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        } else {\n          pingLeft = transformLeft.value < 0;\n          pingRight = -transformLeft.value + wrapperWidth.value < wrapperScrollWidth.value;\n        }\n      } else {\n        pingTop = transformTop.value < 0;\n        pingBottom = -transformTop.value + wrapperHeight.value < wrapperScrollHeight.value;\n      }\n      const tabNodeStyle = {};\n      if (tabPosition === 'top' || tabPosition === 'bottom') {\n        tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      } else {\n        tabNodeStyle.marginTop = typeof tabBarGutter === 'number' ? `${tabBarGutter}px` : tabBarGutter;\n      }\n      const tabNodes = tabs.value.map((tab, i) => {\n        const {\n          key\n        } = tab;\n        return _createVNode(TabNode, {\n          \"id\": id,\n          \"prefixCls\": pre,\n          \"key\": key,\n          \"tab\": tab,\n          \"style\": i === 0 ? undefined : tabNodeStyle,\n          \"closable\": tab.closable,\n          \"editable\": editable,\n          \"active\": key === activeKey,\n          \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n          \"ref\": setRef(key),\n          \"onClick\": e => {\n            onTabClick(key, e);\n          },\n          \"onFocus\": () => {\n            scrollToTab(key);\n            doLockAnimation();\n            if (!tabsWrapperRef.value) {\n              return;\n            }\n            // Focus element will make scrollLeft change which we should reset back\n            if (!rtl) {\n              tabsWrapperRef.value.scrollLeft = 0;\n            }\n            tabsWrapperRef.value.scrollTop = 0;\n          }\n        }, slots);\n      });\n      return _createVNode(\"div\", {\n        \"role\": \"tablist\",\n        \"class\": classNames(`${pre}-nav`, className),\n        \"style\": style,\n        \"onKeydown\": () => {\n          // No need animation when use keyboard\n          doLockAnimation();\n        }\n      }, [_createVNode(ExtraContent, {\n        \"position\": \"left\",\n        \"prefixCls\": pre,\n        \"extra\": slots.leftExtra\n      }, null), _createVNode(ResizeObserver, {\n        \"onResize\": onListHolderResize\n      }, {\n        default: () => [_createVNode(\"div\", {\n          \"class\": classNames(wrapPrefix, {\n            [`${wrapPrefix}-ping-left`]: pingLeft,\n            [`${wrapPrefix}-ping-right`]: pingRight,\n            [`${wrapPrefix}-ping-top`]: pingTop,\n            [`${wrapPrefix}-ping-bottom`]: pingBottom\n          }),\n          \"ref\": tabsWrapperRef\n        }, [_createVNode(ResizeObserver, {\n          \"onResize\": onListHolderResize\n        }, {\n          default: () => [_createVNode(\"div\", {\n            \"ref\": tabListRef,\n            \"class\": `${pre}-nav-list`,\n            \"style\": {\n              transform: `translate(${transformLeft.value}px, ${transformTop.value}px)`,\n              transition: lockAnimation.value ? 'none' : undefined\n            }\n          }, [tabNodes, _createVNode(AddButton, {\n            \"ref\": innerAddButtonRef,\n            \"prefixCls\": pre,\n            \"locale\": locale,\n            \"editable\": editable,\n            \"style\": _extends(_extends({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {\n              visibility: hasDropdown ? 'hidden' : null\n            })\n          }, null), _createVNode(\"div\", {\n            \"class\": classNames(`${pre}-ink-bar`, {\n              [`${pre}-ink-bar-animated`]: animated.inkBar\n            }),\n            \"style\": inkStyle.value\n          }, null)])]\n        })])]\n      }), _createVNode(OperationNode, _objectSpread(_objectSpread({}, props), {}, {\n        \"removeAriaLabel\": locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n        \"ref\": operationsRef,\n        \"prefixCls\": pre,\n        \"tabs\": hiddenTabs.value,\n        \"class\": !hasDropdown && operationsHiddenClassName.value\n      }), pick(slots, ['moreIcon'])), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.rightExtra\n      }, null), _createVNode(ExtraContent, {\n        \"position\": \"right\",\n        \"prefixCls\": pre,\n        \"extra\": slots.tabBarExtraContent\n      }, null)]);\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}