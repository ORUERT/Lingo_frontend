{"ast":null,"code":"import _defineProperty from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _typeof from \"C:/Users/zhouy/WebstormProjects/lingo/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nimport { booleanType } from '../_util/type';\nexport var transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: booleanType(),\n  showRemove: booleanType(),\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n  var defaultPagination = {\n    pageSize: 10,\n    simple: true,\n    showSizeChanger: false,\n    showLessItems: false\n  };\n  if (_typeof(pagination) === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n  return defaultPagination;\n}\nvar ListBody = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n      expose = _ref.expose;\n    var current = ref(1);\n    var handleItemSelect = function handleItemSelect(item) {\n      var selectedKeys = props.selectedKeys;\n      var checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n    var handleItemRemove = function handleItemRemove(item) {\n      emit('itemRemove', [item.key]);\n    };\n    var handleScroll = function handleScroll(e) {\n      emit('scroll', e);\n    };\n    var mergedPagination = computed(function () {\n      return parsePagination(props.pagination);\n    });\n    watch([mergedPagination, function () {\n      return props.filteredRenderItems;\n    }], function () {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        var maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n        current.value = Math.min(current.value, maxPageCount);\n      }\n    }, {\n      immediate: true\n    });\n    var items = computed(function () {\n      var filteredRenderItems = props.filteredRenderItems;\n      var displayItems = filteredRenderItems;\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n      return displayItems;\n    });\n    var onPageChange = function onPageChange(cur) {\n      current.value = cur;\n    };\n    expose({\n      items: items\n    });\n    return function () {\n      var prefixCls = props.prefixCls,\n        filteredRenderItems = props.filteredRenderItems,\n        selectedKeys = props.selectedKeys,\n        globalDisabled = props.disabled,\n        showRemove = props.showRemove;\n      var paginationNode = null;\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": mergedPagination.value.simple,\n          \"showSizeChanger\": mergedPagination.value.showSizeChanger,\n          \"showLessItems\": mergedPagination.value.showLessItems,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": \"\".concat(prefixCls, \"-pagination\"),\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n      var itemsList = items.value.map(function (_ref2) {\n        var renderedEl = _ref2.renderedEl,\n          renderedText = _ref2.renderedText,\n          item = _ref2.item;\n        var disabled = item.disabled;\n        var checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(\"\".concat(prefixCls, \"-content\"), _defineProperty({}, \"\".concat(prefixCls, \"-content-show-remove\"), showRemove)),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;","map":{"version":3,"names":["_extends","Fragment","_Fragment","createVNode","_createVNode","defineComponent","computed","ref","watch","classNames","ListItem","Pagination","PropTypes","booleanType","transferListBodyProps","prefixCls","String","filteredRenderItems","array","def","selectedKeys","disabled","showRemove","pagination","any","onItemSelect","Function","onScroll","onItemRemove","parsePagination","defaultPagination","pageSize","simple","showSizeChanger","showLessItems","_typeof","ListBody","compatConfig","MODE","name","inheritAttrs","props","emits","setup","_ref","emit","expose","current","handleItemSelect","item","checked","indexOf","key","handleItemRemove","handleScroll","e","mergedPagination","value","maxPageCount","Math","ceil","length","min","immediate","items","displayItems","slice","onPageChange","cur","globalDisabled","paginationNode","concat","itemsList","map","_ref2","renderedEl","renderedText","_defineProperty"],"sources":["C:/Users/zhouy/WebstormProjects/lingo/node_modules/ant-design-vue/es/transfer/ListBody.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { Fragment as _Fragment, createVNode as _createVNode } from \"vue\";\nimport { defineComponent, computed, ref, watch } from 'vue';\nimport classNames from '../_util/classNames';\nimport ListItem from './ListItem';\nimport Pagination from '../pagination';\nimport PropTypes from '../_util/vue-types';\nimport { booleanType } from '../_util/type';\nexport const transferListBodyProps = {\n  prefixCls: String,\n  filteredRenderItems: PropTypes.array.def([]),\n  selectedKeys: PropTypes.array,\n  disabled: booleanType(),\n  showRemove: booleanType(),\n  pagination: PropTypes.any,\n  onItemSelect: Function,\n  onScroll: Function,\n  onItemRemove: Function\n};\nfunction parsePagination(pagination) {\n  if (!pagination) {\n    return null;\n  }\n  const defaultPagination = {\n    pageSize: 10,\n    simple: true,\n    showSizeChanger: false,\n    showLessItems: false\n  };\n  if (typeof pagination === 'object') {\n    return _extends(_extends({}, defaultPagination), pagination);\n  }\n  return defaultPagination;\n}\nconst ListBody = defineComponent({\n  compatConfig: {\n    MODE: 3\n  },\n  name: 'ListBody',\n  inheritAttrs: false,\n  props: transferListBodyProps,\n  emits: ['itemSelect', 'itemRemove', 'scroll'],\n  setup(props, _ref) {\n    let {\n      emit,\n      expose\n    } = _ref;\n    const current = ref(1);\n    const handleItemSelect = item => {\n      const {\n        selectedKeys\n      } = props;\n      const checked = selectedKeys.indexOf(item.key) >= 0;\n      emit('itemSelect', item.key, !checked);\n    };\n    const handleItemRemove = item => {\n      emit('itemRemove', [item.key]);\n    };\n    const handleScroll = e => {\n      emit('scroll', e);\n    };\n    const mergedPagination = computed(() => parsePagination(props.pagination));\n    watch([mergedPagination, () => props.filteredRenderItems], () => {\n      if (mergedPagination.value) {\n        // Calculate the page number\n        const maxPageCount = Math.ceil(props.filteredRenderItems.length / mergedPagination.value.pageSize);\n        current.value = Math.min(current.value, maxPageCount);\n      }\n    }, {\n      immediate: true\n    });\n    const items = computed(() => {\n      const {\n        filteredRenderItems\n      } = props;\n      let displayItems = filteredRenderItems;\n      if (mergedPagination.value) {\n        displayItems = filteredRenderItems.slice((current.value - 1) * mergedPagination.value.pageSize, current.value * mergedPagination.value.pageSize);\n      }\n      return displayItems;\n    });\n    const onPageChange = cur => {\n      current.value = cur;\n    };\n    expose({\n      items\n    });\n    return () => {\n      const {\n        prefixCls,\n        filteredRenderItems,\n        selectedKeys,\n        disabled: globalDisabled,\n        showRemove\n      } = props;\n      let paginationNode = null;\n      if (mergedPagination.value) {\n        paginationNode = _createVNode(Pagination, {\n          \"simple\": mergedPagination.value.simple,\n          \"showSizeChanger\": mergedPagination.value.showSizeChanger,\n          \"showLessItems\": mergedPagination.value.showLessItems,\n          \"size\": \"small\",\n          \"disabled\": globalDisabled,\n          \"class\": `${prefixCls}-pagination`,\n          \"total\": filteredRenderItems.length,\n          \"pageSize\": mergedPagination.value.pageSize,\n          \"current\": current.value,\n          \"onChange\": onPageChange\n        }, null);\n      }\n      const itemsList = items.value.map(_ref2 => {\n        let {\n          renderedEl,\n          renderedText,\n          item\n        } = _ref2;\n        const {\n          disabled\n        } = item;\n        const checked = selectedKeys.indexOf(item.key) >= 0;\n        return _createVNode(ListItem, {\n          \"disabled\": globalDisabled || disabled,\n          \"key\": item.key,\n          \"item\": item,\n          \"renderedText\": renderedText,\n          \"renderedEl\": renderedEl,\n          \"checked\": checked,\n          \"prefixCls\": prefixCls,\n          \"onClick\": handleItemSelect,\n          \"onRemove\": handleItemRemove,\n          \"showRemove\": showRemove\n        }, null);\n      });\n      return _createVNode(_Fragment, null, [_createVNode(\"ul\", {\n        \"class\": classNames(`${prefixCls}-content`, {\n          [`${prefixCls}-content-show-remove`]: showRemove\n        }),\n        \"onScroll\": handleScroll\n      }, [itemsList]), paginationNode]);\n    };\n  }\n});\nexport default ListBody;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}